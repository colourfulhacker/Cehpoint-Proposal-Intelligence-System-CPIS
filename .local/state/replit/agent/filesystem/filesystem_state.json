{"file_contents":{"styles/globals.css":{"content":"@import \"tailwindcss\";\n\n@theme {\n  --color-blue-50: #eff6ff;\n  --color-blue-600: #2563eb;\n  --color-blue-700: #1d4ed8;\n  --color-indigo-50: #eef2ff;\n  --color-indigo-600: #4f46e5;\n  --color-indigo-700: #4338ca;\n  --color-purple-50: #faf5ff;\n  --color-purple-600: #9333ea;\n  --color-purple-700: #7e22ce;\n  --color-pink-600: #db2777;\n  --color-pink-700: #be185d;\n  --color-green-400: #4ade80;\n  --color-green-500: #22c55e;\n  --color-green-600: #16a34a;\n  --color-green-700: #15803d;\n  --color-emerald-500: #10b981;\n  --color-yellow-400: #facc15;\n  --color-yellow-500: #eab308;\n  --color-orange-500: #f97316;\n  --color-red-400: #f87171;\n  --color-red-500: #ef4444;\n  --color-red-600: #dc2626;\n  --color-red-700: #b91c1c;\n  --color-red-100: #fee2e2;\n  --color-red-300: #fca5a5;\n  --color-yellow-100: #fef3c7;\n  --color-yellow-700: #a16207;\n  --color-green-100: #dcfce7;\n  --color-cyan-500: #06b6d4;\n  --color-gray-50: #f9fafb;\n  --color-gray-100: #f3f4f6;\n  --color-gray-200: #e5e7eb;\n  --color-gray-300: #d1d5db;\n  --color-gray-500: #6b7280;\n  --color-gray-600: #4b5563;\n  --color-gray-700: #374151;\n  --color-gray-800: #1f2937;\n  --color-gray-900: #111827;\n  --color-white: #ffffff;\n}\n\nhtml,\nbody {\n  padding: 0;\n  margin: 0;\n  font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen,\n    Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;\n}\n\na {\n  color: inherit;\n  text-decoration: none;\n}\n\n* {\n  box-sizing: border-box;\n}\n\n/* Smooth page transitions - reduced duration to minimize layout shift */\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n.page-transition {\n  animation: fadeIn 0.15s ease-out;\n}\n\n/* Enhanced focus styles for accessibility */\n*:focus-visible {\n  outline: 2px solid #2563eb;\n  outline-offset: 2px;\n}\n\n/* Removed global smooth-scroll to prevent modal/nested scroll issues */\n\n/* Loading skeleton animation */\n@keyframes shimmer {\n  0% {\n    background-position: -1000px 0;\n  }\n  100% {\n    background-position: 1000px 0;\n  }\n}\n\n.skeleton {\n  background: linear-gradient(\n    90deg,\n    #f3f4f6 0%,\n    #e5e7eb 20%,\n    #f3f4f6 40%,\n    #f3f4f6 100%\n  );\n  background-size: 1000px 100%;\n  animation: shimmer 2s linear infinite;\n}\n\n/* Improved button interactions */\nbutton, a {\n  transition: all 0.2s ease-in-out;\n}\n\nbutton:active, a:active {\n  transform: scale(0.98);\n}\n","size_bytes":2359},"next-env.d.ts":{"content":"/// <reference types=\"next\" />\n/// <reference types=\"next/image-types/global\" />\n\n// NOTE: This file should not be edited\n// see https://nextjs.org/docs/pages/api-reference/config/typescript for more information.\n","size_bytes":213},"next.config.ts":{"content":"import type { NextConfig } from \"next\";\nimport { env } from \"process\";\n\nconst nextConfig: NextConfig = {\n  allowedDevOrigins: env.REPLIT_DOMAINS ? [env.REPLIT_DOMAINS.split(\",\")[0]] : undefined,\n};\n\nmodule.exports = nextConfig;\n","size_bytes":228},"pages/api/hello.ts":{"content":"// Next.js API route support: https://nextjs.org/docs/api-routes/introduction\nimport type { NextApiRequest, NextApiResponse } from 'next'\n\ntype Data = {\n  name: string\n}\n\nexport default function handler(\n  req: NextApiRequest,\n  res: NextApiResponse<Data>\n) {\n  res.status(200).json({ name: 'John Doe' })\n}\n","size_bytes":307},"pages/_app.tsx":{"content":"import '../styles/globals.css'\nimport type { AppProps } from 'next/app'\nimport ErrorBoundary from '../components/ErrorBoundary'\n\n/**\n * Root App Component\n * Wraps all pages with ErrorBoundary for graceful error handling\n */\nfunction MyApp({ Component, pageProps }: AppProps) {\n  return (\n    <ErrorBoundary>\n      <Component {...pageProps} />\n    </ErrorBoundary>\n  )\n}\n\nexport default MyApp\n","size_bytes":393},"README.md":{"content":"# Cehpoint-Proposal-Intelligence-System-CPIS\n\nThis is the initial commit for the Cehpoint Proposal Intelligence System.\n","size_bytes":120},"styles/Home.module.css":{"content":".container {\n  padding: 0 2rem;\n}\n\n.main {\n  min-height: 100vh;\n  padding: 4rem 0;\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n\n.footer {\n  display: flex;\n  flex: 1;\n  padding: 2rem 0;\n  border-top: 1px solid #eaeaea;\n  justify-content: center;\n  align-items: center;\n}\n\n.footer a {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-grow: 1;\n}\n\n.title a {\n  color: #0070f3;\n  text-decoration: none;\n}\n\n.title a:hover,\n.title a:focus,\n.title a:active {\n  text-decoration: underline;\n}\n\n.title {\n  margin: 0;\n  line-height: 1.15;\n  font-size: 4rem;\n}\n\n.title,\n.description {\n  text-align: center;\n}\n\n.description {\n  margin: 4rem 0;\n  line-height: 1.5;\n  font-size: 1.5rem;\n}\n\n.code {\n  background: #fafafa;\n  border-radius: 5px;\n  padding: 0.75rem;\n  font-size: 1.1rem;\n  font-family: Menlo, Monaco, Lucida Console, Liberation Mono, DejaVu Sans Mono,\n    Bitstream Vera Sans Mono, Courier New, monospace;\n}\n\n.grid {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-wrap: wrap;\n  max-width: 800px;\n}\n\n.card {\n  margin: 1rem;\n  padding: 1.5rem;\n  text-align: left;\n  color: inherit;\n  text-decoration: none;\n  border: 1px solid #eaeaea;\n  border-radius: 10px;\n  transition: color 0.15s ease, border-color 0.15s ease;\n  max-width: 300px;\n}\n\n.card:hover,\n.card:focus,\n.card:active {\n  color: #0070f3;\n  border-color: #0070f3;\n}\n\n.card h2 {\n  margin: 0 0 1rem 0;\n  font-size: 1.5rem;\n}\n\n.card p {\n  margin: 0;\n  font-size: 1.25rem;\n  line-height: 1.5;\n}\n\n.logo {\n  height: 1em;\n  margin-left: 0.2rem;\n}\n\n@media (max-width: 600px) {\n  .grid {\n    width: 100%;\n    flex-direction: column;\n  }\n}\n","size_bytes":1698},"pages/index.tsx":{"content":"import { useState, useEffect } from 'react';\nimport { useRouter } from 'next/router';\nimport Button from '@/components/Button';\nimport Input from '@/components/Input';\nimport Card from '@/components/Card';\nimport { saveUser, isAuthenticated } from '@/lib/storage';\nimport { Sparkles } from 'lucide-react';\n\nexport default function Home() {\n  const router = useRouter();\n  const [isSignup, setIsSignup] = useState(false);\n  const [email, setEmail] = useState('');\n  const [companyName, setCompanyName] = useState('');\n\n  useEffect(() => {\n    if (isAuthenticated()) {\n      router.push('/discovery');\n    }\n  }, [router]);\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    const user = {\n      id: Math.random().toString(36).substr(2, 9),\n      email,\n      companyName: isSignup ? companyName : email.split('@')[0],\n      createdAt: new Date().toISOString(),\n    };\n    \n    saveUser(user);\n    router.push('/discovery');\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center p-4 page-transition\">\n      <div className=\"w-full max-w-md\">\n        <div className=\"text-center mb-8\">\n          <div className=\"flex items-center justify-center gap-2 mb-4\">\n            <Sparkles className=\"w-10 h-10 text-indigo-600\" />\n            <h1 className=\"text-4xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent\">\n              Cehpoint\n            </h1>\n          </div>\n          <p className=\"text-gray-600 text-lg\">\n            AI-Powered IT & Security Solutions\n          </p>\n        </div>\n\n        <Card>\n          <div className=\"mb-6\">\n            <h2 className=\"text-2xl font-bold text-gray-800 mb-2\">\n              {isSignup ? 'Create Account' : 'Welcome Back'}\n            </h2>\n            <p className=\"text-gray-600\">\n              {isSignup \n                ? 'Start your journey to smarter business solutions'\n                : 'Continue discovering tailored solutions'}\n            </p>\n          </div>\n\n          <form onSubmit={handleSubmit}>\n            <Input\n              label=\"Email Address\"\n              type=\"email\"\n              value={email}\n              onChange={setEmail}\n              placeholder=\"you@company.com\"\n              required\n            />\n            \n            {isSignup && (\n              <Input\n                label=\"Company Name\"\n                value={companyName}\n                onChange={setCompanyName}\n                placeholder=\"Your Company Name\"\n                required\n              />\n            )}\n\n            <Button type=\"submit\" fullWidth size=\"lg\" className=\"mt-4\">\n              {isSignup ? 'Get Started' : 'Sign In'}\n            </Button>\n          </form>\n\n          <div className=\"mt-6 text-center\">\n            <button\n              onClick={() => setIsSignup(!isSignup)}\n              className=\"text-blue-600 hover:text-blue-700 font-medium\"\n            >\n              {isSignup \n                ? 'Already have an account? Sign In' \n                : \"Don't have an account? Sign Up\"}\n            </button>\n          </div>\n        </Card>\n\n        <div className=\"mt-8 text-center\">\n          <p className=\"text-sm text-gray-500\">\n            Powered by Google Gemini AI\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n","size_bytes":3367},"pages/api/analyze-profile.ts":{"content":"import type { NextApiRequest, NextApiResponse } from 'next';\nimport { analyzeBusinessProfile } from '@/lib/gemini';\nimport { requireEnv } from '@/lib/env-validation';\nimport { BusinessProfileSchema, normalizeBusinessProfile } from '@/lib/validation';\n\nconst MAX_PAYLOAD_SIZE = 1024 * 1024;\n\nexport default async function handler(\n  req: NextApiRequest,\n  res: NextApiResponse\n) {\n  if (req.method !== 'POST') {\n    return res.status(405).json({ error: 'Method not allowed' });\n  }\n\n  try {\n    requireEnv(process.env.GEMINI_API_KEY, 'GEMINI_API_KEY');\n\n    const payloadSize = JSON.stringify(req.body).length;\n    if (payloadSize > MAX_PAYLOAD_SIZE) {\n      return res.status(413).json({ error: 'Request payload too large' });\n    }\n\n    const normalizedProfile = normalizeBusinessProfile(req.body);\n    \n    const validation = BusinessProfileSchema.safeParse(normalizedProfile);\n    if (!validation.success) {\n      console.error('Profile validation failed:', validation.error);\n      return res.status(400).json({ \n        error: 'Invalid business profile data',\n        details: validation.error.issues[0]?.message || 'Validation failed'\n      });\n    }\n\n    const businessProfile = validation.data;\n    \n    // TODO: When Supabase is integrated, uncomment authentication check\n    // Step 1: Uncomment the import at the top of this file:\n    // import { requireAuth } from '@/lib/auth-helpers';\n    //\n    // Step 2: Replace this comment block with:\n    // const user = await requireAuth(req, res);\n    // if (!user) return; // Response already sent by requireAuth\n    //\n    // Step 3: Use user.id to save data to database (see below)\n    \n    const result = await analyzeBusinessProfile(businessProfile);\n    \n    // TODO: When Supabase is integrated, save recommendations to database\n    // Step 1: Uncomment the import at the top of this file:\n    // import { getServiceSupabase } from '@/lib/supabase';\n    //\n    // Step 2: Save questionnaire submission first:\n    // const supabase = getServiceSupabase();\n    // const { data: submission } = await supabase\n    //   .from('questionnaire_submissions')\n    //   .insert({\n    //     user_id: user.id,\n    //     ...businessProfile,\n    //   })\n    //   .select()\n    //   .single();\n    //\n    // Step 3: Save AI recommendations:\n    // await supabase.from('ai_recommendations').insert({\n    //   user_id: user.id,\n    //   submission_id: submission.id,\n    //   recommendations: result.recommendations,\n    //   project_blueprint: result.projectBlueprint,\n    // });\n    \n    res.status(200).json(result);\n  } catch (error) {\n    console.error('Analysis error:', error);\n    \n    if (error instanceof Error && error.message.includes('Environment variable')) {\n      return res.status(500).json({ \n        error: 'Server configuration error. Please contact support.' \n      });\n    }\n    \n    res.status(500).json({ error: 'Failed to analyze business profile' });\n  }\n}\n","size_bytes":2929},"lib/gemini.ts":{"content":"import { GoogleGenAI } from \"@google/genai\";\nimport { BusinessProfile, ServiceRecommendation, ProjectBlueprint } from \"@/types\";\nimport { GeminiAnalysisResponseSchema, BusinessProfileSchema, normalizeBusinessProfile } from \"./validation\";\n\nconst ai = new GoogleGenAI({ apiKey: process.env.GEMINI_API_KEY || \"\" });\n\nexport async function analyzeBusinessProfile(profile: BusinessProfile): Promise<{\n  recommendations: ServiceRecommendation[];\n  projectBlueprint: ProjectBlueprint;\n}> {\n  const prompt = `You are an expert IT and cybersecurity consultant analyzing a client's business to provide highly specific, actionable, and valuable service recommendations.\n\nCLIENT BUSINESS PROFILE:\nBusiness Name: ${profile.businessName}\nIndustry: ${profile.industry}\nBusiness Model: ${profile.businessModel}\nYear Established: ${profile.yearEstablished}\nTeam Size: ${profile.teamSize}\nOperating Regions: ${Array.isArray(profile.operatingRegions) ? profile.operatingRegions.join(', ') : profile.operatingRegions}\n\nCURRENT OPERATIONS:\nCore Operations: ${profile.coreOperations}\nWorkflow Challenges: ${profile.workflowChallenges}\nManual Tasks to Automate: ${profile.manualTasks}\nCurrent Tools/Software: ${profile.currentTools}\n\nTECHNOLOGY STATUS:\nHas Website: ${profile.hasWebsite ? 'Yes' : 'No'}\nHas Mobile App: ${profile.hasMobileApp ? 'Yes' : 'No'}\nHas CRM: ${profile.hasCRM ? 'Yes' : 'No'}\nHas ERP: ${profile.hasERP ? 'Yes' : 'No'}\nHas Cloud Setup: ${profile.hasCloudSetup ? 'Yes' : 'No'}\nHas Admin Tools: ${profile.hasAdminTools ? 'Yes' : 'No'}\nTechnology Stack: ${profile.technologyStack}\nCybersecurity Practices: ${profile.cybersecurityPractices}\nAPI/Integrations: ${profile.apiIntegrations}\n\nBUSINESS GOALS:\nShort-term Goals (6 months): ${profile.shortTermGoals}\nLong-term Goals (1-3 years): ${profile.longTermGoals}\nUpcoming Launches/Expansions: ${profile.upcomingLaunches}\nDesired Automation Areas: ${profile.automationAreas}\n\nCHALLENGES & BLOCKERS:\nRevenue Challenges: ${profile.revenueChallenges}\nSales/Marketing Challenges: ${profile.salesMarketingChallenges}\nTech/Infrastructure Bottlenecks: ${profile.techBottlenecks}\nCustomer Support Challenges: ${profile.customerSupportChallenges}\nCompliance/Regulatory Concerns: ${profile.complianceConcerns}\n\nINDUSTRY-SPECIFIC DATA:\nTarget Customers: ${profile.targetCustomers}\nCompetitors: ${profile.competitors}\nData Format: ${profile.dataFormat}\nIndustry-Specific Processes: ${profile.industrySpecificProcesses}\n\nPREFERENCES & CONSTRAINTS:\nBudget Preference: ${profile.budgetPreference}\nPreferred Solution Type: ${profile.preferredSolutionType}\nDeadline/Urgency: ${profile.deadline}\nHas Developer Team: ${profile.hasDevTeam ? 'Yes' : 'No'}\nResource Constraints: ${profile.resourceConstraints}\n\nTASK:\nAnalyze this business deeply and generate 6-12 highly specific, personalized service recommendations across these categories:\n1. Process Automation & Optimization\n2. Software Solutions\n3. Cybersecurity & Risk Reduction\n4. Technology Modernization\n5. AI & Intelligent Automation\n6. Industry-Specific Solutions\n\nFor EACH recommendation, provide:\n- title: Clear, specific title\n- category: One of the 6 categories above\n- description: Detailed 2-3 sentence description\n- whyNeeded: Why this client specifically needs this (based on their data)\n- howItHelps: Concrete benefits and outcomes\n- businessImpact: Measurable business impact\n- expectedROI: Expected return on investment or value\n- priority: High, Medium, or Low based on urgency and impact\n- estimatedTimeline: Realistic timeline (e.g., \"2-3 months\", \"4-6 weeks\")\n- estimatedCost: MUST be in the range ‚Çπ10,000 to ‚Çπ95,000 with USD in brackets. Format examples: \"‚Çπ15,000 ($180)\", \"‚Çπ45,000 ($540)\", \"‚Çπ85,000 ($1,020)\"\n\nAlso create a high-level PROJECT BLUEPRINT with:\n- deliverables: Array of 4-6 key deliverables\n- timeline: Overall timeline (e.g., \"3-6 months\")\n- costBracket: Total project cost in range ‚Çπ10,000 to ‚Çπ95,000 with USD in brackets (e.g., \"‚Çπ65,000 ($780)\")\n- phases: Array of 3-5 project phases with name, duration, and description\n\nIMPORTANT PRICING GUIDELINES:\n- All recommendations MUST have estimatedCost between ‚Çπ10,000 and ‚Çπ95,000\n- ALWAYS include USD equivalent in brackets (convert at ~‚Çπ83 = $1)\n- Format: \"‚Çπ[amount] ($[usd_amount])\" - e.g., \"‚Çπ25,000 ($300)\", \"‚Çπ70,000 ($840)\"\n- Project blueprint costBracket should be the sum of top priority recommendations, also in ‚Çπ10,000-‚Çπ95,000 range\n\nMake recommendations unique, specific to their industry, challenges, and goals. Avoid generic advice. Focus on high-value, hard-to-ignore solutions.\n\nReturn ONLY valid JSON in this exact format:\n{\n  \"recommendations\": [\n    {\n      \"id\": \"rec-1\",\n      \"title\": \"...\",\n      \"category\": \"...\",\n      \"description\": \"...\",\n      \"whyNeeded\": \"...\",\n      \"howItHelps\": \"...\",\n      \"businessImpact\": \"...\",\n      \"expectedROI\": \"...\",\n      \"priority\": \"High|Medium|Low\",\n      \"estimatedTimeline\": \"...\",\n      \"estimatedCost\": \"...\"\n    }\n  ],\n  \"projectBlueprint\": {\n    \"deliverables\": [\"...\", \"...\"],\n    \"timeline\": \"...\",\n    \"costBracket\": \"...\",\n    \"phases\": [\n      {\n        \"name\": \"...\",\n        \"duration\": \"...\",\n        \"description\": \"...\"\n      }\n    ]\n  }\n}`;\n\n  try {\n    const response = await ai.models.generateContent({\n      model: \"gemini-2.0-flash-exp\",\n      config: {\n        responseMimeType: \"application/json\",\n      },\n      contents: prompt,\n    });\n\n    if (!response.text) {\n      console.error(\"Gemini returned empty response\");\n      throw new Error(\"AI analysis did not return results. Please try again.\");\n    }\n\n    let parsed;\n    try {\n      parsed = JSON.parse(response.text);\n    } catch (parseError) {\n      console.error(\"Failed to parse Gemini response as JSON:\", response.text);\n      throw new Error(\"AI response format error. Please try again.\");\n    }\n    \n    const validationResult = GeminiAnalysisResponseSchema.safeParse(parsed);\n    \n    if (!validationResult.success) {\n      console.error(\"Gemini response validation failed:\", validationResult.error);\n      throw new Error(\"Invalid AI response format. Please try again.\");\n    }\n    \n    return validationResult.data;\n  } catch (error) {\n    console.error(\"Gemini API error:\", error);\n    if (error instanceof Error && (\n      error.message.includes(\"Invalid AI response\") ||\n      error.message.includes(\"AI response format\") ||\n      error.message.includes(\"AI analysis did not\")\n    )) {\n      throw error;\n    }\n    throw new Error(\"Failed to analyze business profile with Gemini\");\n  }\n}\n\nexport async function analyzeUploadedDocument(content: string, fileName: string): Promise<BusinessProfile> {\n  const prompt = `You are an expert business analyst extracting information from a business profile document. Your goal is to create the most complete and accurate business profile possible.\n\nDOCUMENT NAME: ${fileName}\n\nDOCUMENT CONTENT:\n${content}\n\nCRITICAL INSTRUCTIONS:\n1. Extract ALL explicitly stated information from the document\n2. For missing critical fields (businessName, industry, businessModel, yearEstablished, teamSize, operatingRegions):\n   - Make INTELLIGENT PREDICTIONS based on context clues in the document\n   - Use industry knowledge and document context to infer reasonable values\n   - Example: If document mentions \"since 2015\" but no explicit \"yearEstablished\", use \"2015\"\n   - Example: If document describes e-commerce operations but doesn't state \"industry\", infer \"E-commerce & Retail\"\n3. For non-critical fields not found in the document:\n   - For text fields: Use \"Not specified in document - please provide details\"\n   - For boolean fields: Default to false\n   - For challenges/goals: Make educated guesses based on industry and business type mentioned\n4. Be thorough - analyze the entire document for scattered information\n5. If the business name is not explicitly stated, try to infer it from:\n   - Document headers, footers, or metadata\n   - Company references in the text\n   - Email domains or contact information\n   \nReturn ONLY valid JSON in this exact format:\n{\n  \"businessName\": \"...\",\n  \"industry\": \"...\",\n  \"businessModel\": \"...\",\n  \"yearEstablished\": \"...\",\n  \"teamSize\": \"...\",\n  \"operatingRegions\": [\"region1\", \"region2\"],\n  \"coreOperations\": \"...\",\n  \"workflowChallenges\": \"...\",\n  \"manualTasks\": \"...\",\n  \"currentTools\": \"...\",\n  \"hasWebsite\": true/false,\n  \"hasMobileApp\": true/false,\n  \"hasCRM\": true/false,\n  \"hasERP\": true/false,\n  \"hasCloudSetup\": true/false,\n  \"hasAdminTools\": true/false,\n  \"technologyStack\": \"...\",\n  \"cybersecurityPractices\": \"...\",\n  \"apiIntegrations\": \"...\",\n  \"shortTermGoals\": \"...\",\n  \"longTermGoals\": \"...\",\n  \"upcomingLaunches\": \"...\",\n  \"automationAreas\": \"...\",\n  \"revenueChallenges\": \"...\",\n  \"salesMarketingChallenges\": \"...\",\n  \"techBottlenecks\": \"...\",\n  \"customerSupportChallenges\": \"...\",\n  \"complianceConcerns\": \"...\",\n  \"targetCustomers\": \"...\",\n  \"competitors\": \"...\",\n  \"dataFormat\": \"...\",\n  \"industrySpecificProcesses\": \"...\",\n  \"budgetPreference\": \"...\",\n  \"preferredSolutionType\": \"...\",\n  \"deadline\": \"...\",\n  \"hasDevTeam\": true/false,\n  \"resourceConstraints\": \"...\"\n}`;\n\n  try {\n    const response = await ai.models.generateContent({\n      model: \"gemini-2.0-flash-exp\",\n      config: {\n        responseMimeType: \"application/json\",\n      },\n      contents: prompt,\n    });\n\n    if (!response.text) {\n      console.error(\"Gemini returned empty document analysis response\");\n      throw new Error(\"Document analysis did not return results. Please try again.\");\n    }\n\n    let parsed;\n    try {\n      parsed = JSON.parse(response.text);\n    } catch (parseError) {\n      console.error(\"Failed to parse document analysis response as JSON:\", response.text);\n      throw new Error(\"Document analysis format error. Please try again.\");\n    }\n    \n    const normalized = normalizeBusinessProfile(parsed);\n    \n    const validationResult = BusinessProfileSchema.safeParse(normalized);\n    \n    if (!validationResult.success) {\n      console.error(\"Document analysis validation failed:\", validationResult.error);\n      throw new Error(\"Invalid document analysis format. Please check the document and try again.\");\n    }\n    \n    return validationResult.data;\n  } catch (error) {\n    console.error(\"Gemini document analysis error:\", error);\n    if (error instanceof Error && (\n      error.message.includes(\"Invalid document\") ||\n      error.message.includes(\"Document analysis\")\n    )) {\n      throw error;\n    }\n    throw new Error(\"Failed to analyze uploaded document\");\n  }\n}\n","size_bytes":10514},"pages/api/analyze-document.ts":{"content":"import type { NextApiRequest, NextApiResponse } from 'next';\nimport { analyzeUploadedDocument } from '@/lib/gemini';\nimport { requireEnv } from '@/lib/env-validation';\n\nconst MAX_PAYLOAD_SIZE = 2 * 1024 * 1024;\nconst MAX_CONTENT_SIZE = 500 * 1024;\n\nexport default async function handler(\n  req: NextApiRequest,\n  res: NextApiResponse\n) {\n  if (req.method !== 'POST') {\n    return res.status(405).json({ error: 'Method not allowed' });\n  }\n\n  try {\n    requireEnv(process.env.GEMINI_API_KEY, 'GEMINI_API_KEY');\n\n    const payloadSize = JSON.stringify(req.body).length;\n    if (payloadSize > MAX_PAYLOAD_SIZE) {\n      return res.status(413).json({ error: 'Request payload too large' });\n    }\n\n    const { content, fileName } = req.body;\n    \n    if (!content || !fileName) {\n      return res.status(400).json({ error: 'Missing content or fileName' });\n    }\n\n    if (typeof content !== 'string' || typeof fileName !== 'string') {\n      return res.status(400).json({ error: 'Invalid content or fileName format' });\n    }\n\n    if (content.length > MAX_CONTENT_SIZE) {\n      return res.status(413).json({ error: 'Document content too large. Please upload a smaller file.' });\n    }\n    \n    const profile = await analyzeUploadedDocument(content, fileName);\n    \n    res.status(200).json(profile);\n  } catch (error) {\n    console.error('Document analysis error:', error);\n    \n    if (error instanceof Error) {\n      if (error.message.includes('Environment variable')) {\n        return res.status(500).json({ error: 'Server configuration error. Please contact support.' });\n      }\n      if (error.message.includes('Document analysis') || error.message.includes('Invalid document')) {\n        return res.status(400).json({ error: error.message });\n      }\n    }\n    \n    res.status(500).json({ error: 'Failed to analyze document' });\n  }\n}\n","size_bytes":1835},"components/Button.tsx":{"content":"import React from 'react';\n\ninterface ButtonProps {\n  children: React.ReactNode;\n  onClick?: () => void;\n  variant?: 'primary' | 'secondary' | 'outline';\n  size?: 'sm' | 'md' | 'lg';\n  fullWidth?: boolean;\n  disabled?: boolean;\n  type?: 'button' | 'submit' | 'reset';\n  className?: string;\n}\n\nexport default function Button({\n  children,\n  onClick,\n  variant = 'primary',\n  size = 'md',\n  fullWidth = false,\n  disabled = false,\n  type = 'button',\n  className = '',\n}: ButtonProps) {\n  const baseStyles = 'font-semibold rounded-lg transition-all duration-200 flex items-center justify-center gap-2';\n  \n  const variantStyles = {\n    primary: 'bg-gradient-to-r from-blue-600 to-indigo-600 text-white hover:from-blue-700 hover:to-indigo-700 shadow-lg hover:shadow-xl',\n    secondary: 'bg-gradient-to-r from-purple-600 to-pink-600 text-white hover:from-purple-700 hover:to-pink-700 shadow-lg hover:shadow-xl',\n    outline: 'border-2 border-blue-600 text-blue-600 hover:bg-blue-50',\n  };\n  \n  const sizeStyles = {\n    sm: 'px-4 py-2 text-sm',\n    md: 'px-6 py-3 text-base',\n    lg: 'px-8 py-4 text-lg',\n  };\n  \n  const widthStyle = fullWidth ? 'w-full' : '';\n  const disabledStyle = disabled ? 'opacity-50 cursor-not-allowed' : 'cursor-pointer';\n  \n  return (\n    <button\n      type={type}\n      onClick={onClick}\n      disabled={disabled}\n      className={`${baseStyles} ${variantStyles[variant]} ${sizeStyles[size]} ${widthStyle} ${disabledStyle} ${className}`}\n    >\n      {children}\n    </button>\n  );\n}\n","size_bytes":1503},"postcss.config.js":{"content":"module.exports = {\n  plugins: {\n    '@tailwindcss/postcss': {},\n    autoprefixer: {},\n  },\n}\n","size_bytes":93},"pages/api/fetch-url.ts":{"content":"import type { NextApiRequest, NextApiResponse } from 'next';\n\nexport default async function handler(\n  req: NextApiRequest,\n  res: NextApiResponse\n) {\n  if (req.method !== 'POST') {\n    return res.status(405).json({ error: 'Method not allowed' });\n  }\n\n  try {\n    const { url } = req.body;\n    \n    if (!url) {\n      return res.status(400).json({ error: 'Missing URL' });\n    }\n    \n    const response = await fetch(url);\n    const html = await response.text();\n    \n    const textContent = html\n      .replace(/<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi, '')\n      .replace(/<style\\b[^<]*(?:(?!<\\/style>)<[^<]*)*<\\/style>/gi, '')\n      .replace(/<[^>]+>/g, ' ')\n      .replace(/\\s+/g, ' ')\n      .trim();\n    \n    res.status(200).json({ content: textContent });\n  } catch (error) {\n    console.error('URL fetch error:', error);\n    res.status(500).json({ error: 'Failed to fetch URL content' });\n  }\n}\n","size_bytes":914},"pages/dashboard.tsx":{"content":"import { useState, useEffect } from 'react';\nimport { useRouter } from 'next/router';\nimport Card from '@/components/Card';\nimport Button from '@/components/Button';\nimport { isAuthenticated, getSession, getUser, clearSession, clearUser } from '@/lib/storage';\nimport { ServiceRecommendation, ProjectBlueprint, ServiceCategory } from '@/types';\nimport { \n  Sparkles, Target, DollarSign, Clock, TrendingUp, \n  Shield, Cpu, Cloud, Zap, Brain, Building, LogOut,\n  MessageCircle, Phone, Mail, CheckCircle, Award, Users, Download, Send\n} from 'lucide-react';\nimport toast, { Toaster } from 'react-hot-toast';\nimport { downloadProposal, submitToCehpoint } from '@/lib/proposalGenerator';\n\nconst categoryIcons: Record<ServiceCategory, any> = {\n  'Process Automation & Optimization': Zap,\n  'Software Solutions': Cpu,\n  'Cybersecurity & Risk Reduction': Shield,\n  'Technology Modernization': Cloud,\n  'AI & Intelligent Automation': Brain,\n  'Industry-Specific Solutions': Building,\n};\n\nconst categoryColors: Record<ServiceCategory, string> = {\n  'Process Automation & Optimization': 'from-yellow-400 to-orange-500',\n  'Software Solutions': 'from-blue-400 to-cyan-500',\n  'Cybersecurity & Risk Reduction': 'from-red-400 to-pink-500',\n  'Technology Modernization': 'from-purple-400 to-indigo-500',\n  'AI & Intelligent Automation': 'from-green-400 to-emerald-500',\n  'Industry-Specific Solutions': 'from-indigo-400 to-purple-500',\n};\n\nexport default function Dashboard() {\n  const router = useRouter();\n  const [recommendations, setRecommendations] = useState<ServiceRecommendation[]>([]);\n  const [blueprint, setBlueprint] = useState<ProjectBlueprint | null>(null);\n  const [selectedCategory, setSelectedCategory] = useState<ServiceCategory | 'All'>('All');\n  const [user, setUser] = useState<any>(null);\n  const [editMode, setEditMode] = useState(false);\n  const [salesNotes, setSalesNotes] = useState('');\n  const [excludedIds, setExcludedIds] = useState<string[]>([]);\n\n  useEffect(() => {\n    if (!isAuthenticated()) {\n      router.push('/login');\n      return;\n    }\n\n    const session = getSession();\n    const currentUser = getUser();\n    \n    if (!session?.recommendations) {\n      router.push('/discovery');\n      return;\n    }\n\n    setUser(currentUser);\n    setRecommendations(session.recommendations);\n    setBlueprint(session.projectBlueprint || null);\n  }, [router]);\n\n  const handleLogout = () => {\n    if (window.confirm('Are you sure you want to log out? Your recommendations will remain saved in this browser.')) {\n      clearSession();\n      clearUser();\n      toast.success('Logged out successfully');\n      router.push('/login');\n    }\n  };\n\n  const handleDownloadProposal = () => {\n    try {\n      const includedRecs = recommendations.filter(r => !excludedIds.includes(r.id));\n      downloadProposal({\n        companyName: user?.companyName || 'Your Company',\n        recommendations: includedRecs,\n        blueprint,\n        generatedDate: new Date().toISOString(),\n        salesNotes: salesNotes || undefined\n      });\n      toast.success('Proposal downloaded successfully! Open the HTML file to view or print as PDF.');\n    } catch (error) {\n      toast.error('Failed to download proposal. Please try again.');\n      console.error(error);\n    }\n  };\n\n  const handleSubmitToCehpoint = () => {\n    const includedRecs = recommendations.filter(r => !excludedIds.includes(r.id));\n    const url = submitToCehpoint(user?.companyName || 'Potential Client', includedRecs, salesNotes);\n    window.open(url, '_blank');\n    toast.success('Opening WhatsApp to share proposal!');\n  };\n\n  const toggleRecommendation = (id: string) => {\n    setExcludedIds(prev => \n      prev.includes(id) \n        ? prev.filter(excludedId => excludedId !== id)\n        : [...prev, id]\n    );\n  };\n\n  const filteredRecommendations = selectedCategory === 'All' \n    ? recommendations \n    : recommendations.filter(r => r.category === selectedCategory);\n\n  const categories = Array.from(new Set(recommendations.map(r => r.category)));\n\n  const priorityColors = {\n    High: 'bg-red-100 text-red-700 border-red-300',\n    Medium: 'bg-yellow-100 text-yellow-700 border-yellow-300',\n    Low: 'bg-green-100 text-green-700 border-green-300',\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 page-transition\">\n      <Toaster position=\"top-right\" />\n      \n      <div className=\"bg-white shadow-sm border-b\">\n        <div className=\"container mx-auto px-4 py-4\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center gap-3\">\n              <Sparkles className=\"w-8 h-8 text-indigo-600\" />\n              <div>\n                <h1 className=\"text-2xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent\">\n                  Cehpoint\n                </h1>\n                <p className=\"text-sm text-gray-600\">{user?.companyName || 'Guest'}</p>\n              </div>\n            </div>\n            <div className=\"flex gap-2 md:gap-3 flex-wrap\">\n              <Button \n                variant=\"primary\" \n                onClick={() => router.push('/discovery')}\n                className=\"bg-green-600 hover:bg-green-700 text-white text-sm md:text-base\"\n              >\n                <Users className=\"w-4 h-4\" />\n                New Client Proposal\n              </Button>\n              <Button \n                variant=\"outline\" \n                onClick={() => window.open('https://portfolios.cehpoint.co.in/', '_blank')}\n                className=\"text-blue-600 border-blue-600 hover:bg-blue-600 hover:text-white text-sm md:text-base\"\n              >\n                View Portfolio\n              </Button>\n              <Button variant=\"outline\" onClick={handleLogout} className=\"text-sm md:text-base\">\n                <LogOut className=\"w-4 h-4\" />\n                Logout\n              </Button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"container mx-auto px-4 py-8\">\n        <div className=\"bg-white rounded-2xl shadow-lg p-8 mb-8 border border-gray-100\">\n          <div className=\"flex flex-col md:flex-row items-start md:items-center justify-between gap-6 mb-6\">\n            <div className=\"flex-1\">\n              <div className=\"flex items-center gap-2 mb-3\">\n                <CheckCircle className=\"w-6 h-6 text-green-600\" />\n                <span className=\"text-sm font-semibold text-green-700 uppercase tracking-wide\">Analysis Complete</span>\n              </div>\n              <h2 className=\"text-3xl md:text-4xl font-bold text-gray-900 mb-3\">\n                Technology Solutions Portfolio\n              </h2>\n              <p className=\"text-lg text-gray-600 mb-2\">\n                Tailored for <span className=\"font-semibold text-indigo-700\">{user?.companyName || 'your business'}</span>\n              </p>\n              <p className=\"text-sm text-gray-500\">\n                Based on comprehensive business analysis and industry best practices\n              </p>\n            </div>\n            <div className=\"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-6 border-2 border-indigo-200\">\n              <div className=\"text-center\">\n                <Award className=\"w-12 h-12 text-indigo-600 mx-auto mb-2\" />\n                <p className=\"text-xs font-semibold text-gray-600 uppercase tracking-wide mb-1\">Certified Partner</p>\n                <p className=\"text-2xl font-bold text-indigo-700\">{recommendations.length}</p>\n                <p className=\"text-sm text-gray-600\">Solutions Identified</p>\n              </div>\n            </div>\n          </div>\n          \n          {editMode && (\n            <div className=\"mt-6 p-6 bg-gradient-to-r from-orange-50 to-yellow-50 border-2 border-orange-300 rounded-xl\">\n              <div className=\"flex items-start gap-4 mb-4\">\n                <div className=\"w-12 h-12 bg-orange-600 rounded-xl flex items-center justify-center flex-shrink-0\">\n                  <Sparkles className=\"w-6 h-6 text-white\" />\n                </div>\n                <div className=\"flex-1\">\n                  <h3 className=\"text-lg font-bold text-gray-900 mb-2\">‚úèÔ∏è Customization Mode Active</h3>\n                  <p className=\"text-sm text-gray-700 mb-4\">\n                    Add personalized notes and select which solutions to include. Use the checkboxes on each recommendation below to customize your proposal.\n                  </p>\n                  <div className=\"bg-white rounded-lg p-4 border-2 border-orange-200 mb-4\">\n                    <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                      Sales Notes / Custom Message (will appear at top of proposal)\n                    </label>\n                    <textarea\n                      value={salesNotes}\n                      onChange={(e) => setSalesNotes(e.target.value)}\n                      placeholder=\"Example: 'Hi [Client Name], based on our discussion, I've highlighted these key solutions that will help you achieve [specific goal]. Let's discuss implementation timeline and any questions you might have.'\"\n                      className=\"w-full h-32 px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-orange-500 focus:ring-2 focus:ring-orange-200 text-gray-800 resize-none\"\n                    />\n                    <p className=\"text-xs text-gray-500 mt-2\">üí° Tip: Personalize this message to make the proposal more engaging for your client!</p>\n                  </div>\n                  <div className=\"bg-white rounded-lg p-4 border-2 border-blue-200\">\n                    <div className=\"flex items-center justify-between mb-3\">\n                      <label className=\"block text-sm font-semibold text-gray-700\">\n                        üìã Proposal Summary\n                      </label>\n                      <div className=\"text-sm\">\n                        <span className=\"font-bold text-blue-600\">{recommendations.length - excludedIds.length}</span>\n                        <span className=\"text-gray-600\"> of {recommendations.length} solutions selected</span>\n                      </div>\n                    </div>\n                    {excludedIds.length > 0 && (\n                      <div className=\"bg-gray-50 rounded p-3\">\n                        <p className=\"text-xs font-semibold text-gray-700 mb-2\">Excluded Solutions:</p>\n                        <div className=\"space-y-1\">\n                          {recommendations.filter(r => excludedIds.includes(r.id)).map(r => (\n                            <div key={r.id} className=\"flex items-center justify-between text-xs\">\n                              <span className=\"text-gray-600\">{r.title}</span>\n                              <button\n                                onClick={() => toggleRecommendation(r.id)}\n                                className=\"text-blue-600 hover:text-blue-700 font-medium\"\n                              >\n                                Re-include\n                              </button>\n                            </div>\n                          ))}\n                        </div>\n                      </div>\n                    )}\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n          \n          <div className=\"mt-6 pt-6 border-t border-gray-200\">\n            <div className=\"bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl p-6 border-2 border-green-200 mb-6\">\n              <div className=\"flex flex-col md:flex-row items-start md:items-center justify-between gap-4\">\n                <div className=\"flex-1\">\n                  <h3 className=\"text-lg font-bold text-gray-900 mb-2 flex items-center gap-2\">\n                    <CheckCircle className=\"w-5 h-5 text-green-600\" />\n                    Sales Actions\n                  </h3>\n                  <p className=\"text-sm text-gray-700\">\n                    Review, customize, and share this proposal with your client. Perfect for live demos and meetings.\n                  </p>\n                </div>\n                <div className=\"flex flex-wrap gap-3 w-full md:w-auto\">\n                  <Button \n                    onClick={() => {\n                      setEditMode(!editMode);\n                      toast.success(editMode ? 'Preview mode enabled' : 'Edit mode enabled - customize for your client!');\n                    }}\n                    variant={editMode ? 'secondary' : 'outline'}\n                    className={editMode ? 'bg-orange-600 hover:bg-orange-700 text-white flex-1 md:flex-initial' : 'flex-1 md:flex-initial'}\n                  >\n                    {editMode ? 'üëÅÔ∏è Preview' : '‚úèÔ∏è Customize'}\n                  </Button>\n                  <Button \n                    onClick={handleDownloadProposal}\n                    variant=\"secondary\"\n                    className=\"bg-blue-600 hover:bg-blue-700 text-white flex-1 md:flex-initial\"\n                  >\n                    <Download className=\"w-4 h-4\" />\n                    Download\n                  </Button>\n                  <Button \n                    onClick={handleSubmitToCehpoint}\n                    variant=\"primary\"\n                    className=\"bg-green-600 hover:bg-green-700 text-white flex-1 md:flex-initial\"\n                  >\n                    <Send className=\"w-4 h-4\" />\n                    Share via WhatsApp\n                  </Button>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"grid md:grid-cols-3 gap-6 pt-6 border-t border-gray-200\">\n            <div className=\"flex items-start gap-3\">\n              <div className=\"bg-blue-100 p-2 rounded-lg\">\n                <Users className=\"w-5 h-5 text-blue-700\" />\n              </div>\n              <div>\n                <p className=\"text-sm font-semibold text-gray-800\">Expert Consultation</p>\n                <p className=\"text-xs text-gray-600\">Dedicated account manager</p>\n              </div>\n            </div>\n            <div className=\"flex items-start gap-3\">\n              <div className=\"bg-green-100 p-2 rounded-lg\">\n                <CheckCircle className=\"w-5 h-5 text-green-700\" />\n              </div>\n              <div>\n                <p className=\"text-sm font-semibold text-gray-800\">Quality Assured</p>\n                <p className=\"text-xs text-gray-600\">ISO 27001 certified processes</p>\n              </div>\n            </div>\n            <div className=\"flex items-start gap-3\">\n              <div className=\"bg-purple-100 p-2 rounded-lg\">\n                <Award className=\"w-5 h-5 text-purple-700\" />\n              </div>\n              <div>\n                <p className=\"text-sm font-semibold text-gray-800\">Proven Track Record</p>\n                <p className=\"text-xs text-gray-600\">500+ successful implementations</p>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"mb-8 flex flex-wrap gap-3\">\n          <button\n            onClick={() => setSelectedCategory('All')}\n            className={`px-6 py-3 rounded-lg font-semibold transition-all ${\n              selectedCategory === 'All'\n                ? 'bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-lg'\n                : 'bg-white text-gray-700 hover:shadow-md'\n            }`}\n          >\n            All Services ({recommendations.length})\n          </button>\n          {categories.map((category) => {\n            const Icon = categoryIcons[category];\n            return (\n              <button\n                key={category}\n                onClick={() => setSelectedCategory(category)}\n                className={`px-6 py-3 rounded-lg font-semibold transition-all flex items-center gap-2 ${\n                  selectedCategory === category\n                    ? `bg-gradient-to-r ${categoryColors[category]} text-white shadow-lg`\n                    : 'bg-white text-gray-700 hover:shadow-md'\n                }`}\n              >\n                <Icon className=\"w-5 h-5\" />\n                {category} ({recommendations.filter(r => r.category === category).length})\n              </button>\n            );\n          })}\n        </div>\n\n        <div className=\"grid gap-6 mb-12\">\n          {filteredRecommendations.map((rec) => {\n            const Icon = categoryIcons[rec.category];\n            return (\n              <Card key={rec.id} hover className={excludedIds.includes(rec.id) ? 'opacity-50 border-2 border-gray-300' : ''}>\n                {editMode && (\n                  <div className=\"mb-4 flex items-center gap-3 p-3 bg-orange-50 rounded-lg border border-orange-200\">\n                    <input\n                      type=\"checkbox\"\n                      checked={!excludedIds.includes(rec.id)}\n                      onChange={() => toggleRecommendation(rec.id)}\n                      className=\"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500\"\n                    />\n                    <label className=\"text-sm font-semibold text-gray-800 cursor-pointer\" onClick={() => toggleRecommendation(rec.id)}>\n                      {excludedIds.includes(rec.id) ? '‚ùå Excluded from proposal' : '‚úÖ Included in proposal'}\n                    </label>\n                  </div>\n                )}\n                <div className=\"flex items-start justify-between mb-4\">\n                  <div className=\"flex items-start gap-4\">\n                    <div className={`w-12 h-12 rounded-lg bg-gradient-to-r ${categoryColors[rec.category]} flex items-center justify-center flex-shrink-0`}>\n                      <Icon className=\"w-6 h-6 text-white\" />\n                    </div>\n                    <div className=\"flex-1\">\n                      <h3 className=\"text-xl font-bold text-gray-800 mb-1\">\n                        {rec.title}\n                      </h3>\n                      <p className=\"text-sm text-gray-500\">{rec.category}</p>\n                    </div>\n                  </div>\n                  <span className={`px-3 py-1 rounded-full text-xs font-bold border ${priorityColors[rec.priority]}`}>\n                    {rec.priority} Priority\n                  </span>\n                </div>\n\n                <p className=\"text-gray-700 mb-4\">{rec.description}</p>\n\n                <div className=\"grid md:grid-cols-2 gap-4 mb-4\">\n                  <div className=\"bg-blue-50 p-4 rounded-lg\">\n                    <div className=\"flex items-center gap-2 mb-2\">\n                      <Target className=\"w-5 h-5 text-blue-600\" />\n                      <h4 className=\"font-semibold text-gray-800\">Why You Need This</h4>\n                    </div>\n                    <p className=\"text-sm text-gray-700\">{rec.whyNeeded}</p>\n                  </div>\n\n                  <div className=\"bg-green-50 p-4 rounded-lg\">\n                    <div className=\"flex items-center gap-2 mb-2\">\n                      <TrendingUp className=\"w-5 h-5 text-green-600\" />\n                      <h4 className=\"font-semibold text-gray-800\">How It Helps</h4>\n                    </div>\n                    <p className=\"text-sm text-gray-700\">{rec.howItHelps}</p>\n                  </div>\n                </div>\n\n                <div className=\"grid md:grid-cols-3 gap-4 pt-4 border-t\">\n                  <div>\n                    <div className=\"flex items-center gap-2 mb-1\">\n                      <TrendingUp className=\"w-4 h-4 text-gray-500\" />\n                      <span className=\"text-xs font-semibold text-gray-500 uppercase\">Business Impact</span>\n                    </div>\n                    <p className=\"text-sm font-medium text-gray-800\">{rec.businessImpact}</p>\n                  </div>\n\n                  <div>\n                    <div className=\"flex items-center gap-2 mb-1\">\n                      <Clock className=\"w-4 h-4 text-gray-500\" />\n                      <span className=\"text-xs font-semibold text-gray-500 uppercase\">Timeline</span>\n                    </div>\n                    <p className=\"text-sm font-medium text-gray-800\">{rec.estimatedTimeline}</p>\n                  </div>\n\n                  <div className=\"bg-gradient-to-br from-green-50 to-emerald-50 p-3 rounded-lg border-2 border-green-300\">\n                    <div className=\"flex items-center gap-2 mb-1\">\n                      <DollarSign className=\"w-4 h-4 text-green-600\" />\n                      <span className=\"text-xs font-bold text-green-800 uppercase\">Affordable Pricing</span>\n                    </div>\n                    <p className=\"text-sm font-bold text-green-900\">{rec.estimatedCost}</p>\n                    <p className=\"text-xs text-green-700 mt-1\">EMI options available</p>\n                  </div>\n                </div>\n\n                <div className=\"mt-4 bg-gradient-to-r from-purple-50 to-pink-50 p-4 rounded-lg border-2 border-purple-200\">\n                  <div className=\"flex items-center justify-between\">\n                    <div>\n                      <div className=\"flex items-center gap-2 mb-1\">\n                        <DollarSign className=\"w-5 h-5 text-purple-600\" />\n                        <span className=\"text-xs font-bold text-purple-800 uppercase\">Expected ROI</span>\n                      </div>\n                      <p className=\"text-sm text-purple-900 font-bold\">{rec.expectedROI}</p>\n                    </div>\n                    <div className=\"text-right\">\n                      <p className=\"text-xs text-purple-700 font-semibold\">‚úì Free Consultation</p>\n                      <p className=\"text-xs text-purple-700\">‚úì No Hidden Costs</p>\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"mt-6 pt-6 border-t border-gray-200\">\n                  <div className=\"bg-gradient-to-r from-green-50 to-emerald-50 p-4 rounded-xl border-2 border-green-200 mb-4\">\n                    <div className=\"flex items-center gap-2 mb-2\">\n                      <MessageCircle className=\"w-5 h-5 text-green-600\" />\n                      <h4 className=\"font-bold text-green-900\">üí¨ Let's Discuss Your Solution</h4>\n                    </div>\n                    <p className=\"text-sm text-green-800 mb-3\">\n                      Connect instantly on WhatsApp - Our team responds within <span className=\"font-bold\">5 minutes</span>\n                    </p>\n                  </div>\n                  \n                  <div className=\"flex flex-col sm:flex-row gap-3\">\n                    <a\n                      href={`https://wa.me/919091156095?text=Hi!%20I%27m%20interested%20in%20${encodeURIComponent(rec.title)}%20for%20${encodeURIComponent(user?.companyName || 'my business')}.%0A%0ACan%20you%20provide%3A%0A1.%20Detailed%20breakdown%20of%20${rec.estimatedCost}%0A2.%20EMI%20payment%20options%0A3.%20Implementation%20timeline%0A4.%20Success%20stories`}\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                      className=\"flex-1 flex items-center justify-center gap-2 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white font-bold py-4 px-6 rounded-lg transition-all shadow-lg hover:shadow-xl\"\n                    >\n                      <MessageCircle className=\"w-5 h-5\" />\n                      Chat on WhatsApp - Get Instant Quote\n                    </a>\n                    <a\n                      href={`https://wa.me/919091156095?text=Hi%2C%20I%20need%20pricing%20details%20for%20${encodeURIComponent(rec.title)}.%20Company%3A%20${encodeURIComponent(user?.companyName || 'N/A')}%0A%0APlease%20share%20payment%20plans%20and%20discounts.`}\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                      className=\"flex items-center justify-center gap-2 bg-white hover:bg-gray-900 hover:text-white text-gray-900 font-bold py-4 px-6 rounded-lg border-2 border-gray-900 transition-all shadow-md hover:shadow-lg\"\n                    >\n                      <DollarSign className=\"w-5 h-5\" />\n                      Get Detailed Pricing\n                    </a>\n                  </div>\n                  <div className=\"mt-4 flex items-center justify-center gap-4 text-xs\">\n                    <span className=\"flex items-center gap-1 text-green-700 font-semibold\">\n                      <CheckCircle className=\"w-4 h-4\" />\n                      5 min response time\n                    </span>\n                    <span className=\"flex items-center gap-1 text-blue-700 font-semibold\">\n                      <CheckCircle className=\"w-4 h-4\" />\n                      Free consultation\n                    </span>\n                    <span className=\"flex items-center gap-1 text-purple-700 font-semibold\">\n                      <CheckCircle className=\"w-4 h-4\" />\n                      EMI available\n                    </span>\n                  </div>\n                </div>\n              </Card>\n            );\n          })}\n        </div>\n\n        {blueprint && (\n          <div className=\"mb-8\">\n            <h2 className=\"text-2xl font-bold text-gray-800 mb-4\">\n              Project Blueprint Preview\n            </h2>\n            \n            <Card>\n              <div className=\"grid md:grid-cols-3 gap-6 mb-6\">\n                <div className=\"text-center\">\n                  <div className=\"text-3xl font-bold text-blue-600 mb-1\">{blueprint.timeline}</div>\n                  <div className=\"text-sm text-gray-600\">Overall Timeline</div>\n                </div>\n                <div className=\"text-center\">\n                  <div className=\"text-3xl font-bold text-green-600 mb-1\">{blueprint.costBracket}</div>\n                  <div className=\"text-sm text-gray-600\">Investment Range</div>\n                </div>\n                <div className=\"text-center\">\n                  <div className=\"text-3xl font-bold text-purple-600 mb-1\">{blueprint.deliverables.length}</div>\n                  <div className=\"text-sm text-gray-600\">Key Deliverables</div>\n                </div>\n              </div>\n\n              <div className=\"mb-6\">\n                <h3 className=\"font-bold text-gray-800 mb-3\">Deliverables</h3>\n                <div className=\"grid md:grid-cols-2 gap-3\">\n                  {blueprint.deliverables.map((item, idx) => (\n                    <div key={idx} className=\"flex items-start gap-2 bg-gray-50 p-3 rounded-lg\">\n                      <span className=\"text-blue-600 font-bold\">{idx + 1}.</span>\n                      <span className=\"text-gray-700\">{item}</span>\n                    </div>\n                  ))}\n                </div>\n              </div>\n\n              <div>\n                <h3 className=\"font-bold text-gray-800 mb-3\">Project Phases</h3>\n                <div className=\"space-y-3\">\n                  {blueprint.phases.map((phase, idx) => (\n                    <div key={idx} className=\"border-l-4 border-blue-600 pl-4 py-2\">\n                      <div className=\"flex items-center gap-3 mb-1\">\n                        <h4 className=\"font-bold text-gray-800\">{phase.name}</h4>\n                        <span className=\"text-sm text-gray-500\">({phase.duration})</span>\n                      </div>\n                      <p className=\"text-sm text-gray-600\">{phase.description}</p>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            </Card>\n          </div>\n        )}\n\n        <div className=\"bg-gradient-to-br from-indigo-600 to-blue-700 rounded-2xl shadow-2xl p-8 md:p-12 text-white mb-8\">\n          <div className=\"max-w-3xl mx-auto text-center\">\n            <h3 className=\"text-3xl md:text-4xl font-bold mb-4\">\n              Ready to Transform Your Business?\n            </h3>\n            <p className=\"text-lg text-indigo-100 mb-8\">\n              Our technology consultants are ready to discuss your specific requirements and create a customized implementation roadmap.\n            </p>\n            \n            <div className=\"flex flex-col sm:flex-row gap-4 justify-center mb-8\">\n              <a\n                href=\"https://wa.me/919091156095?text=Hi%2C%20I%27ve%20reviewed%20my%20technology%20solutions%20portfolio%20and%20would%20like%20to%20schedule%20a%20consultation%20to%20discuss%20implementation.\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                className=\"flex items-center justify-center gap-3 bg-white text-indigo-700 font-bold py-4 px-8 rounded-xl hover:bg-indigo-50 transition-all shadow-lg hover:shadow-xl text-lg\"\n              >\n                <MessageCircle className=\"w-6 h-6\" />\n                Schedule Consultation via WhatsApp\n              </a>\n              <a\n                href=\"https://wa.me/919091156095?text=Hi%2C%20I%20need%20help%20prioritizing%20the%20solutions%20in%20my%20portfolio.%20Can%20we%20discuss%20which%20to%20implement%20first%3F\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                className=\"flex items-center justify-center gap-3 bg-transparent text-white font-bold py-4 px-8 rounded-xl border-2 border-white hover:bg-white hover:text-indigo-700 transition-all text-lg\"\n              >\n                <Phone className=\"w-6 h-6\" />\n                Get Help Prioritizing\n              </a>\n            </div>\n\n            <div className=\"grid md:grid-cols-3 gap-6 pt-8 border-t border-indigo-400\">\n              <div className=\"text-center\">\n                <div className=\"bg-white bg-opacity-20 rounded-lg p-4 mb-3 inline-block\">\n                  <Phone className=\"w-8 h-8\" />\n                </div>\n                <p className=\"font-semibold mb-1\">WhatsApp</p>\n                <p className=\"text-sm text-indigo-100\">+91 909 115 6095</p>\n              </div>\n              <div className=\"text-center\">\n                <div className=\"bg-white bg-opacity-20 rounded-lg p-4 mb-3 inline-block\">\n                  <Mail className=\"w-8 h-8\" />\n                </div>\n                <p className=\"font-semibold mb-1\">Email</p>\n                <p className=\"text-sm text-indigo-100\">sales@cehpoint.co.in</p>\n              </div>\n              <div className=\"text-center\">\n                <div className=\"bg-white bg-opacity-20 rounded-lg p-4 mb-3 inline-block\">\n                  <Clock className=\"w-8 h-8\" />\n                </div>\n                <p className=\"font-semibold mb-1\">Response Time</p>\n                <p className=\"text-sm text-indigo-100\">Within 2 business hours</p>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"text-center\">\n          <Button variant=\"outline\" size=\"lg\" onClick={() => router.push('/discovery')}>\n            Request New Business Analysis\n          </Button>\n        </div>\n      </div>\n\n      {/* Floating Sticky WhatsApp Button */}\n      <a\n        href={`https://wa.me/919091156095?text=Hi!%20I%27m%20reviewing%20my%20Cehpoint%20solutions%20portfolio%20for%20${encodeURIComponent(user?.companyName || 'my business')}.%20I%20have%20some%20questions.`}\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n        className=\"fixed bottom-6 right-6 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white p-4 rounded-full shadow-2xl hover:shadow-3xl transition-all duration-300 z-50 flex items-center gap-3 group animate-pulse hover:animate-none\"\n        title=\"Chat on WhatsApp - 5 min response time\"\n      >\n        <MessageCircle className=\"w-6 h-6\" />\n        <span className=\"hidden group-hover:inline-block font-bold text-sm whitespace-nowrap pr-2\">\n          Chat Now - 5 min response!\n        </span>\n      </a>\n    </div>\n  );\n}\n","size_bytes":31582},"components/Card.tsx":{"content":"import React from 'react';\n\ninterface CardProps {\n  children: React.ReactNode;\n  className?: string;\n  hover?: boolean;\n}\n\nexport default function Card({ children, className = '', hover = false }: CardProps) {\n  const hoverStyle = hover ? 'hover:shadow-2xl hover:scale-[1.02] transition-all duration-300' : '';\n  \n  return (\n    <div className={`bg-white rounded-xl shadow-lg p-6 ${hoverStyle} ${className}`}>\n      {children}\n    </div>\n  );\n}\n","size_bytes":445},"pages/login.tsx":{"content":"import { useState, useEffect } from 'react';\nimport { useRouter } from 'next/router';\nimport Button from '@/components/Button';\nimport Input from '@/components/Input';\nimport Card from '@/components/Card';\nimport { saveUser, isAuthenticated } from '@/lib/storage';\nimport { Sparkles } from 'lucide-react';\n\nexport default function Login() {\n  const router = useRouter();\n  const [isSignup, setIsSignup] = useState(false);\n  const [email, setEmail] = useState('');\n  const [companyName, setCompanyName] = useState('');\n\n  useEffect(() => {\n    if (isAuthenticated()) {\n      router.push('/discovery');\n    }\n  }, [router]);\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    const user = {\n      id: Math.random().toString(36).substr(2, 9),\n      email,\n      companyName: isSignup ? companyName : email.split('@')[0],\n      createdAt: new Date().toISOString(),\n    };\n    \n    saveUser(user);\n    router.push('/discovery');\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center p-4 page-transition\">\n      <div className=\"w-full max-w-md\">\n        <div className=\"text-center mb-8\">\n          <div className=\"flex items-center justify-center gap-2 mb-4\">\n            <Sparkles className=\"w-10 h-10 text-indigo-600\" />\n            <h1 className=\"text-4xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent\">\n              Cehpoint\n            </h1>\n          </div>\n          <p className=\"text-gray-600 text-lg\">\n            AI-Powered IT & Security Solutions\n          </p>\n        </div>\n\n        <Card>\n          <div className=\"mb-6\">\n            <h2 className=\"text-2xl font-bold text-gray-800 mb-2\">\n              {isSignup ? 'Create Account' : 'Welcome Back'}\n            </h2>\n            <p className=\"text-gray-600\">\n              {isSignup \n                ? 'Start your journey to smarter business solutions'\n                : 'Continue discovering tailored solutions'}\n            </p>\n          </div>\n\n          <form onSubmit={handleSubmit}>\n            <Input\n              label=\"Email Address\"\n              type=\"email\"\n              value={email}\n              onChange={setEmail}\n              placeholder=\"you@company.com\"\n              required\n            />\n            \n            {isSignup && (\n              <Input\n                label=\"Company Name\"\n                value={companyName}\n                onChange={setCompanyName}\n                placeholder=\"Your Company Name\"\n                required\n              />\n            )}\n\n            <Button type=\"submit\" fullWidth size=\"lg\" className=\"mt-4\">\n              {isSignup ? 'Get Started' : 'Sign In'}\n            </Button>\n          </form>\n\n          <div className=\"mt-6 text-center\">\n            <button\n              onClick={() => setIsSignup(!isSignup)}\n              className=\"text-blue-600 hover:text-blue-700 font-medium\"\n            >\n              {isSignup \n                ? 'Already have an account? Sign In' \n                : \"Don't have an account? Sign Up\"}\n            </button>\n          </div>\n        </Card>\n\n        <div className=\"mt-8 text-center\">\n          <p className=\"text-sm text-gray-500\">\n            Powered by Google Gemini AI\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n","size_bytes":3368},"types/index.ts":{"content":"export interface User {\n  id: string;\n  email: string;\n  companyName: string;\n  createdAt: string;\n}\n\nexport interface BusinessProfile {\n  businessName: string;\n  industry: string;\n  businessModel: string;\n  yearEstablished: string;\n  teamSize: string;\n  operatingRegions: string[];\n  coreOperations: string;\n  workflowChallenges: string;\n  manualTasks: string;\n  currentTools: string;\n  hasWebsite: boolean;\n  hasMobileApp: boolean;\n  hasCRM: boolean;\n  hasERP: boolean;\n  hasCloudSetup: boolean;\n  hasAdminTools: boolean;\n  technologyStack: string;\n  cybersecurityPractices: string;\n  apiIntegrations: string;\n  shortTermGoals: string;\n  longTermGoals: string;\n  upcomingLaunches: string;\n  automationAreas: string;\n  revenueChallenges: string;\n  salesMarketingChallenges: string;\n  techBottlenecks: string;\n  customerSupportChallenges: string;\n  complianceConcerns: string;\n  targetCustomers: string;\n  competitors: string;\n  dataFormat: string;\n  industrySpecificProcesses: string;\n  budgetPreference: string;\n  preferredSolutionType: string;\n  deadline: string;\n  hasDevTeam: boolean;\n  resourceConstraints: string;\n}\n\nexport interface ServiceRecommendation {\n  id: string;\n  title: string;\n  category: ServiceCategory;\n  description: string;\n  whyNeeded: string;\n  howItHelps: string;\n  businessImpact: string;\n  expectedROI: string;\n  priority: 'High' | 'Medium' | 'Low';\n  estimatedTimeline: string;\n  estimatedCost: string;\n}\n\nexport type ServiceCategory = \n  | 'Process Automation & Optimization'\n  | 'Software Solutions'\n  | 'Cybersecurity & Risk Reduction'\n  | 'Technology Modernization'\n  | 'AI & Intelligent Automation'\n  | 'Industry-Specific Solutions';\n\nexport interface ProjectBlueprint {\n  deliverables: string[];\n  timeline: string;\n  costBracket: string;\n  phases: {\n    name: string;\n    duration: string;\n    description: string;\n  }[];\n}\n\nexport interface ClientSession {\n  userId: string;\n  businessProfile?: BusinessProfile;\n  recommendations?: ServiceRecommendation[];\n  projectBlueprint?: ProjectBlueprint;\n  uploadedFile?: {\n    name: string;\n    type: string;\n    content: string;\n  };\n  lastUpdated: string;\n}\n","size_bytes":2140},"pages/api/parse-file.ts":{"content":"import type { NextApiRequest, NextApiResponse } from 'next';\nimport formidable from 'formidable';\nimport fs from 'fs';\nimport mammoth from 'mammoth';\n\nexport const config = {\n  api: {\n    bodyParser: false,\n  },\n};\n\nexport default async function handler(\n  req: NextApiRequest,\n  res: NextApiResponse\n) {\n  if (req.method !== 'POST') {\n    return res.status(405).json({ error: 'Method not allowed' });\n  }\n\n  const form = formidable({});\n  \n  try {\n    const [fields, files] = await form.parse(req);\n    const file = Array.isArray(files.file) ? files.file[0] : files.file;\n    \n    if (!file) {\n      return res.status(400).json({ error: 'No file uploaded' });\n    }\n\n    const filePath = file.filepath;\n    const mimeType = file.mimetype || '';\n    const fileName = file.originalFilename || 'document';\n    \n    let content = '';\n    \n    if (mimeType === 'application/pdf') {\n      const dataBuffer = fs.readFileSync(filePath);\n      // eslint-disable-next-line\n      const pdfParse = require('pdf-parse');\n      const data = await pdfParse(dataBuffer);\n      content = data.text;\n      \n      if (!content || content.trim().length === 0) {\n        fs.unlinkSync(filePath);\n        return res.status(400).json({ \n          error: 'Unable to extract text from PDF. The file may be image-based or encrypted. Please try uploading a text-based PDF or use the questionnaire instead.' \n        });\n      }\n    } else if (mimeType === 'application/vnd.openxmlformats-officedocument.wordprocessingml.document' || \n               mimeType === 'application/msword') {\n      const arrayBuffer = fs.readFileSync(filePath);\n      const result = await mammoth.extractRawText({ buffer: arrayBuffer });\n      content = result.value;\n    } else if (mimeType === 'text/plain') {\n      content = fs.readFileSync(filePath, 'utf-8');\n    } else {\n      fs.unlinkSync(filePath);\n      return res.status(400).json({ error: 'Unsupported file type. Please upload PDF, DOCX, or TXT files.' });\n    }\n\n    fs.unlinkSync(filePath);\n    \n    res.status(200).json({ content, fileName });\n  } catch (error) {\n    console.error('File parsing error:', error);\n    res.status(500).json({ error: 'Failed to parse file. Please ensure the file is not corrupted or password-protected.' });\n  }\n}\n","size_bytes":2260},"components/Input.tsx":{"content":"import React from 'react';\n\ninterface InputProps {\n  label?: string;\n  type?: string;\n  value: string;\n  onChange: (value: string) => void;\n  placeholder?: string;\n  required?: boolean;\n  multiline?: boolean;\n  rows?: number;\n}\n\nexport default function Input({\n  label,\n  type = 'text',\n  value,\n  onChange,\n  placeholder,\n  required = false,\n  multiline = false,\n  rows = 3,\n}: InputProps) {\n  const baseStyles = 'w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition-all text-gray-900 placeholder:text-gray-400 placeholder:font-normal bg-white';\n  \n  return (\n    <div className=\"mb-4\">\n      {label && (\n        <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n          {label} {required && <span className=\"text-red-500\">*</span>}\n        </label>\n      )}\n      {multiline ? (\n        <textarea\n          value={value}\n          onChange={(e) => onChange(e.target.value)}\n          placeholder={placeholder}\n          required={required}\n          rows={rows}\n          className={baseStyles}\n        />\n      ) : (\n        <input\n          type={type}\n          value={value}\n          onChange={(e) => onChange(e.target.value)}\n          placeholder={placeholder}\n          required={required}\n          className={baseStyles}\n        />\n      )}\n    </div>\n  );\n}\n","size_bytes":1369},"pages/discovery.tsx":{"content":"import { useState, useEffect } from 'react';\nimport { useRouter } from 'next/router';\nimport Button from '@/components/Button';\nimport Card from '@/components/Card';\nimport { isAuthenticated } from '@/lib/storage';\nimport { FileText, Upload, AlertCircle, CheckCircle, Loader } from 'lucide-react';\nimport toast from 'react-hot-toast';\n\nexport default function Discovery() {\n  const router = useRouter();\n  const [uploading, setUploading] = useState(false);\n  const [fileName, setFileName] = useState('');\n\n  useEffect(() => {\n    if (!isAuthenticated()) {\n      router.push('/login');\n    }\n  }, [router]);\n\n  const handleQuestionnaire = () => {\n    router.push('/questionnaire');\n  };\n\n  const handleFileUpload = async (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (!file) return;\n\n    const allowedTypes = ['application/pdf', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document', 'application/msword', 'text/plain'];\n    if (!allowedTypes.includes(file.type)) {\n      toast.error('Please upload a PDF, DOCX, or TXT file');\n      return;\n    }\n\n    if (file.size > 10 * 1024 * 1024) {\n      toast.error('File size must be less than 10MB');\n      return;\n    }\n\n    setUploading(true);\n    setFileName(file.name);\n    \n    try {\n      const formData = new FormData();\n      formData.append('file', file);\n\n      const parseResponse = await fetch('/api/parse-file', {\n        method: 'POST',\n        body: formData,\n      });\n\n      if (!parseResponse.ok) {\n        const errorData = await parseResponse.json();\n        throw new Error(errorData.error || 'Failed to parse file');\n      }\n\n      const { content, fileName: parsedFileName } = await parseResponse.json();\n\n      const analyzeResponse = await fetch('/api/analyze-document', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ content, fileName: parsedFileName }),\n      });\n\n      if (!analyzeResponse.ok) {\n        const errorData = await analyzeResponse.json();\n        throw new Error(errorData.error || 'Failed to analyze document');\n      }\n\n      const profile = await analyzeResponse.json();\n\n      if (typeof window !== 'undefined') {\n        const session = JSON.parse(localStorage.getItem('session') || '{}');\n        session.businessProfile = profile;\n        localStorage.setItem('session', JSON.stringify(session));\n      }\n\n      toast.success('Business profile extracted successfully!');\n      \n      setTimeout(() => {\n        router.push({\n          pathname: '/questionnaire',\n          query: { fromUpload: 'true' }\n        });\n      }, 1000);\n\n    } catch (error) {\n      console.error('Upload error:', error);\n      if (error instanceof Error) {\n        toast.error(error.message);\n      } else {\n        toast.error('Failed to process your document. Please try again or use the questionnaire.');\n      }\n    } finally {\n      setUploading(false);\n      e.target.value = '';\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50\">\n      \n      <div className=\"container mx-auto px-4 py-12\">\n        <div className=\"text-center mb-12\">\n          <h1 className=\"text-4xl font-bold text-gray-900 mb-4\">\n            Business Discovery\n          </h1>\n          <p className=\"text-xl text-gray-600 max-w-3xl mx-auto\">\n            Share your business information to receive AI-powered, personalized IT and security recommendations\n          </p>\n        </div>\n\n        <div className=\"max-w-4xl mx-auto mb-8 space-y-6\">\n          <Card>\n            <div className=\"text-center\">\n              <div className=\"w-16 h-16 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-xl flex items-center justify-center mx-auto mb-4\">\n                <Upload className=\"w-8 h-8 text-white\" />\n              </div>\n              <h2 className=\"text-2xl font-bold text-gray-900 mb-3\">\n                Upload Business Profile\n              </h2>\n              <p className=\"text-gray-600 mb-6 max-w-2xl mx-auto\">\n                Save time by uploading your business profile document. Our AI will extract all the information and suggest tailored services for your needs.\n              </p>\n              \n              <div className=\"max-w-md mx-auto\">\n                <label htmlFor=\"file-upload\" className=\"block\">\n                  <div className={`border-2 border-dashed rounded-lg p-8 transition-all cursor-pointer ${\n                    uploading \n                      ? 'border-gray-300 bg-gray-50' \n                      : 'border-blue-300 bg-blue-50 hover:bg-blue-100 hover:border-blue-400'\n                  }`}>\n                    {uploading ? (\n                      <div className=\"flex flex-col items-center gap-3\">\n                        <Loader className=\"w-8 h-8 text-blue-600 animate-spin\" />\n                        <p className=\"text-sm font-medium text-gray-700\">\n                          Processing {fileName}...\n                        </p>\n                        <p className=\"text-xs text-gray-500\">\n                          Extracting and analyzing your business information\n                        </p>\n                      </div>\n                    ) : (\n                      <div className=\"flex flex-col items-center gap-3\">\n                        <FileText className=\"w-10 h-10 text-blue-600\" />\n                        <p className=\"text-sm font-medium text-gray-700\">\n                          Click to upload or drag and drop\n                        </p>\n                        <p className=\"text-xs text-gray-500\">\n                          PDF, DOCX, or TXT (max 10MB)\n                        </p>\n                      </div>\n                    )}\n                  </div>\n                  <input\n                    id=\"file-upload\"\n                    type=\"file\"\n                    className=\"hidden\"\n                    accept=\".pdf,.docx,.doc,.txt\"\n                    onChange={handleFileUpload}\n                    disabled={uploading}\n                  />\n                </label>\n              </div>\n\n              <div className=\"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4\">\n                <div className=\"flex items-start gap-3 text-left\">\n                  <CheckCircle className=\"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5\" />\n                  <div>\n                    <h3 className=\"font-semibold text-blue-900 mb-1\">Smart Information Extraction</h3>\n                    <p className=\"text-sm text-blue-800\">\n                      Our AI analyzes your document to extract business details, challenges, goals, and technology needs. If any critical information is missing, you'll be prompted to provide it.\n                    </p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </Card>\n\n          <div className=\"text-center\">\n            <div className=\"inline-flex items-center gap-2 text-gray-500 my-4\">\n              <div className=\"h-px bg-gray-300 w-20\"></div>\n              <span className=\"text-sm font-medium\">OR</span>\n              <div className=\"h-px bg-gray-300 w-20\"></div>\n            </div>\n          </div>\n          \n          <Card>\n            <div className=\"text-center\">\n              <div className=\"w-16 h-16 bg-indigo-600 rounded-xl flex items-center justify-center mx-auto mb-4\">\n                <FileText className=\"w-8 h-8 text-white\" />\n              </div>\n              <h2 className=\"text-2xl font-bold text-gray-900 mb-3\">\n                Complete Business Questionnaire\n              </h2>\n              <p className=\"text-gray-600 mb-6 max-w-2xl mx-auto\">\n                Prefer to fill in details manually? Answer our comprehensive 7-section questionnaire to help us understand your business needs\n              </p>\n              <Button fullWidth size=\"lg\" onClick={handleQuestionnaire} variant=\"outline\">\n                Start Questionnaire\n              </Button>\n            </div>\n          </Card>\n        </div>\n\n        <div className=\"max-w-3xl mx-auto\">\n          <Card>\n            <h3 className=\"text-lg font-semibold text-gray-800 mb-3\">\n              What happens next?\n            </h3>\n            <ul className=\"space-y-2 text-gray-600\">\n              <li className=\"flex items-start gap-2\">\n                <span className=\"text-blue-600 font-bold\">1.</span>\n                <span>Our AI analyzes your business information comprehensively</span>\n              </li>\n              <li className=\"flex items-start gap-2\">\n                <span className=\"text-blue-600 font-bold\">2.</span>\n                <span>We identify opportunities for automation, security, and growth</span>\n              </li>\n              <li className=\"flex items-start gap-2\">\n                <span className=\"text-blue-600 font-bold\">3.</span>\n                <span>You receive personalized service recommendations with clear business impact</span>\n              </li>\n              <li className=\"flex items-start gap-2\">\n                <span className=\"text-blue-600 font-bold\">4.</span>\n                <span>Review a high-level project blueprint tailored to your needs</span>\n              </li>\n            </ul>\n          </Card>\n        </div>\n      </div>\n    </div>\n  );\n}\n","size_bytes":9300},"pages/questionnaire.tsx":{"content":"import { useState, useEffect, useCallback, useRef } from 'react';\nimport { useRouter } from 'next/router';\nimport Button from '@/components/Button';\nimport Input from '@/components/Input';\nimport Select from '@/components/Select';\nimport MultiSelect from '@/components/MultiSelect';\nimport Card from '@/components/Card';\nimport { isAuthenticated, saveSession, getSession, getUser, saveQuestionnaireDraft, getQuestionnaireDraft, clearQuestionnaireDraft } from '@/lib/storage';\nimport { BusinessProfile } from '@/types';\nimport { ArrowRight, ArrowLeft, Sparkles, Check, Cloud, Shield, Zap, Brain, Target, Lock, Database, Workflow, Lightbulb, TrendingUp, MessageCircle, CheckCircle } from 'lucide-react';\nimport toast, { Toaster } from 'react-hot-toast';\n\nexport default function Questionnaire() {\n  const router = useRouter();\n  const { fromUpload } = router.query;\n  const [currentSection, setCurrentSection] = useState(0);\n  const [loading, setLoading] = useState(false);\n  const [liveSuggestions, setLiveSuggestions] = useState<any[]>([]);\n  const [loadingSuggestions, setLoadingSuggestions] = useState(false);\n  const suggestionsTimeoutRef = useRef<NodeJS.Timeout | null>(null);\n  \n  const [formData, setFormData] = useState<BusinessProfile>({\n    businessName: '',\n    industry: '',\n    businessModel: '',\n    yearEstablished: '',\n    teamSize: '',\n    operatingRegions: [],\n    coreOperations: '',\n    workflowChallenges: '',\n    manualTasks: '',\n    currentTools: '',\n    hasWebsite: false,\n    hasMobileApp: false,\n    hasCRM: false,\n    hasERP: false,\n    hasCloudSetup: false,\n    hasAdminTools: false,\n    technologyStack: '',\n    cybersecurityPractices: '',\n    apiIntegrations: '',\n    shortTermGoals: '',\n    longTermGoals: '',\n    upcomingLaunches: '',\n    automationAreas: '',\n    revenueChallenges: '',\n    salesMarketingChallenges: '',\n    techBottlenecks: '',\n    customerSupportChallenges: '',\n    complianceConcerns: '',\n    targetCustomers: '',\n    competitors: '',\n    dataFormat: '',\n    industrySpecificProcesses: '',\n    budgetPreference: '',\n    preferredSolutionType: '',\n    deadline: '',\n    hasDevTeam: false,\n    resourceConstraints: '',\n  });\n  \n  const [customIndustry, setCustomIndustry] = useState('');\n\n  useEffect(() => {\n    if (!isAuthenticated()) {\n      router.push('/login');\n      return;\n    }\n    \n    const draft = getQuestionnaireDraft();\n    if (draft && !fromUpload) {\n      const normalizedData = {\n        ...draft.formData,\n        operatingRegions: Array.isArray(draft.formData.operatingRegions) \n          ? draft.formData.operatingRegions \n          : draft.formData.operatingRegions ? [draft.formData.operatingRegions] : []\n      };\n      setFormData(normalizedData);\n      if (draft.customIndustry) setCustomIndustry(draft.customIndustry);\n      if (draft.currentSection) setCurrentSection(draft.currentSection);\n    } else if (fromUpload) {\n      const session = getSession();\n      if (session?.businessProfile) {\n        const normalizedData = {\n          ...session.businessProfile,\n          operatingRegions: Array.isArray(session.businessProfile.operatingRegions) \n            ? session.businessProfile.operatingRegions \n            : session.businessProfile.operatingRegions ? [session.businessProfile.operatingRegions] : []\n        };\n        setFormData(normalizedData);\n      }\n    }\n  }, [router, fromUpload]);\n\n  useEffect(() => {\n    if (formData.businessName) {\n      saveQuestionnaireDraft({\n        formData,\n        customIndustry,\n        currentSection\n      });\n    }\n  }, [formData, customIndustry, currentSection]);\n\n  const fetchLiveSuggestions = useCallback(async () => {\n    const hasContent = Object.values(formData).some(value => {\n      if (typeof value === 'boolean') return false;\n      if (Array.isArray(value)) return value.length > 0;\n      return value && value.toString().trim() !== '';\n    });\n\n    if (!hasContent) {\n      setLiveSuggestions([]);\n      return;\n    }\n\n    try {\n      setLoadingSuggestions(true);\n      const response = await fetch('/api/get-live-suggestions', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ formData, currentSection }),\n      });\n\n      if (response.ok) {\n        const data = await response.json();\n        setLiveSuggestions(data.suggestions || []);\n      }\n    } catch (error) {\n      console.error('Error fetching suggestions:', error);\n    } finally {\n      setLoadingSuggestions(false);\n    }\n  }, [formData, currentSection]);\n\n  useEffect(() => {\n    if (suggestionsTimeoutRef.current) {\n      clearTimeout(suggestionsTimeoutRef.current);\n    }\n\n    suggestionsTimeoutRef.current = setTimeout(() => {\n      fetchLiveSuggestions();\n    }, 1500);\n\n    return () => {\n      if (suggestionsTimeoutRef.current) {\n        clearTimeout(suggestionsTimeoutRef.current);\n      }\n    };\n  }, [fetchLiveSuggestions]);\n\n  const updateField = (field: keyof BusinessProfile, value: any) => {\n    setFormData(prev => ({ ...prev, [field]: value }));\n  };\n\n  const getIcon = (iconName: string) => {\n    const icons: Record<string, any> = {\n      Cloud, Shield, Zap, Brain, Target, Lock, Database, Workflow, Lightbulb, TrendingUp\n    };\n    return icons[iconName] || Lightbulb;\n  };\n\n  const sections = [\n    {\n      title: 'Basic Business Identity',\n      fields: [\n        { name: 'businessName', label: 'Legal Business Name', type: 'text', required: true },\n        { \n          name: 'industry', \n          label: 'Industry/Sector', \n          type: 'select', \n          required: true,\n          options: [\n            { value: 'Technology & Software', label: 'Technology & Software' },\n            { value: 'Healthcare & Medical', label: 'Healthcare & Medical' },\n            { value: 'Finance & Banking', label: 'Finance & Banking' },\n            { value: 'E-commerce & Retail', label: 'E-commerce & Retail' },\n            { value: 'Manufacturing', label: 'Manufacturing' },\n            { value: 'Education & E-Learning', label: 'Education & E-Learning' },\n            { value: 'Real Estate', label: 'Real Estate' },\n            { value: 'Hospitality & Tourism', label: 'Hospitality & Tourism' },\n            { value: 'Logistics & Transportation', label: 'Logistics & Transportation' },\n            { value: 'Marketing & Advertising', label: 'Marketing & Advertising' },\n            { value: 'Consulting & Professional Services', label: 'Consulting & Professional Services' },\n            { value: 'Food & Beverage', label: 'Food & Beverage' },\n            { value: 'Agriculture', label: 'Agriculture' },\n            { value: 'Construction', label: 'Construction' },\n            { value: 'Media & Entertainment', label: 'Media & Entertainment' },\n            { value: 'Legal Services', label: 'Legal Services' },\n            { value: 'Non-Profit & NGO', label: 'Non-Profit & NGO' },\n            { value: 'Other', label: 'Other' },\n          ]\n        },\n        { \n          name: 'businessModel', \n          label: 'Business Model', \n          type: 'select', \n          required: true,\n          options: [\n            { value: 'B2B', label: 'B2B (Business to Business)' },\n            { value: 'B2C', label: 'B2C (Business to Consumer)' },\n            { value: 'D2C', label: 'D2C (Direct to Consumer)' },\n            { value: 'SaaS', label: 'SaaS (Software as a Service)' },\n            { value: 'Marketplace', label: 'Marketplace' },\n            { value: 'Consulting', label: 'Consulting' },\n            { value: 'E-commerce', label: 'E-commerce' },\n            { value: 'Subscription', label: 'Subscription-based' },\n            { value: 'Freemium', label: 'Freemium' },\n            { value: 'Mixed', label: 'Mixed/Hybrid' },\n          ]\n        },\n        { name: 'yearEstablished', label: 'Year of Establishment', type: 'text', placeholder: 'e.g., 2020', required: true },\n        { \n          name: 'teamSize', \n          label: 'Team Size', \n          type: 'select', \n          required: true,\n          options: [\n            { value: '1-5 employees', label: '1-5 employees (Startup)' },\n            { value: '6-20 employees', label: '6-20 employees (Small)' },\n            { value: '21-50 employees', label: '21-50 employees (Medium)' },\n            { value: '51-200 employees', label: '51-200 employees (Growing)' },\n            { value: '201-500 employees', label: '201-500 employees (Large)' },\n            { value: '500+ employees', label: '500+ employees (Enterprise)' },\n          ]\n        },\n        { \n          name: 'operatingRegions', \n          label: 'Operating Countries/Regions (Select all that apply)', \n          type: 'multiselect', \n          required: true,\n          options: [\n            { value: 'United States', label: 'United States' },\n            { value: 'Canada', label: 'Canada' },\n            { value: 'United Kingdom', label: 'United Kingdom' },\n            { value: 'Germany', label: 'Germany' },\n            { value: 'France', label: 'France' },\n            { value: 'India', label: 'India' },\n            { value: 'China', label: 'China' },\n            { value: 'Japan', label: 'Japan' },\n            { value: 'Australia', label: 'Australia' },\n            { value: 'Brazil', label: 'Brazil' },\n            { value: 'Mexico', label: 'Mexico' },\n            { value: 'Singapore', label: 'Singapore' },\n            { value: 'United Arab Emirates', label: 'United Arab Emirates' },\n            { value: 'South Africa', label: 'South Africa' },\n            { value: 'Spain', label: 'Spain' },\n            { value: 'Italy', label: 'Italy' },\n            { value: 'Netherlands', label: 'Netherlands' },\n            { value: 'Sweden', label: 'Sweden' },\n            { value: 'Switzerland', label: 'Switzerland' },\n            { value: 'South Korea', label: 'South Korea' },\n            { value: 'Indonesia', label: 'Indonesia' },\n            { value: 'Malaysia', label: 'Malaysia' },\n            { value: 'Thailand', label: 'Thailand' },\n            { value: 'Philippines', label: 'Philippines' },\n            { value: 'Vietnam', label: 'Vietnam' },\n            { value: 'Pakistan', label: 'Pakistan' },\n            { value: 'Bangladesh', label: 'Bangladesh' },\n            { value: 'Nigeria', label: 'Nigeria' },\n            { value: 'Kenya', label: 'Kenya' },\n            { value: 'Egypt', label: 'Egypt' },\n            { value: 'Saudi Arabia', label: 'Saudi Arabia' },\n            { value: 'Turkey', label: 'Turkey' },\n            { value: 'Poland', label: 'Poland' },\n            { value: 'Argentina', label: 'Argentina' },\n            { value: 'Chile', label: 'Chile' },\n            { value: 'Colombia', label: 'Colombia' },\n            { value: 'New Zealand', label: 'New Zealand' },\n            { value: 'Ireland', label: 'Ireland' },\n            { value: 'Belgium', label: 'Belgium' },\n            { value: 'Austria', label: 'Austria' },\n            { value: 'Denmark', label: 'Denmark' },\n            { value: 'Norway', label: 'Norway' },\n            { value: 'Finland', label: 'Finland' },\n            { value: 'Portugal', label: 'Portugal' },\n            { value: 'Israel', label: 'Israel' },\n            { value: 'Global/Multiple Regions', label: 'Global/Multiple Regions' },\n            { value: 'Other', label: 'Other' },\n          ]\n        },\n      ],\n    },\n    {\n      title: 'Current Operations & Processes',\n      fields: [\n        { name: 'coreOperations', label: 'Describe your core daily operations', type: 'textarea', required: true },\n        { name: 'workflowChallenges', label: 'Current workflow challenges', type: 'textarea', required: true },\n        { name: 'manualTasks', label: 'Manual tasks you want to automate', type: 'textarea', required: true },\n        { name: 'currentTools', label: 'Tools/software/platforms currently used', type: 'textarea', required: true },\n      ],\n    },\n    {\n      title: 'Technology Status',\n      fields: [\n        { name: 'hasWebsite', label: 'Do you have a website?', type: 'checkbox' },\n        { name: 'hasMobileApp', label: 'Do you have a mobile app?', type: 'checkbox' },\n        { name: 'hasCRM', label: 'Do you have a CRM?', type: 'checkbox' },\n        { name: 'hasERP', label: 'Do you have an ERP?', type: 'checkbox' },\n        { name: 'hasCloudSetup', label: 'Do you have cloud setup?', type: 'checkbox' },\n        { name: 'hasAdminTools', label: 'Do you have internal admin tools?', type: 'checkbox' },\n        { name: 'technologyStack', label: 'Technology stack currently used', type: 'textarea' },\n        { name: 'cybersecurityPractices', label: 'Existing cybersecurity practices', type: 'textarea' },\n        { name: 'apiIntegrations', label: 'Any API or integrations currently used', type: 'textarea' },\n      ],\n    },\n    {\n      title: 'Business Goals & Vision',\n      fields: [\n        { name: 'shortTermGoals', label: 'Short-term goals (next 6 months)', type: 'textarea', required: true },\n        { name: 'longTermGoals', label: 'Long-term goals (1-3 years)', type: 'textarea', required: true },\n        { name: 'upcomingLaunches', label: 'Any upcoming product launches or expansions?', type: 'textarea' },\n        { name: 'automationAreas', label: 'Desired automation or improvement areas', type: 'textarea', required: true },\n      ],\n    },\n    {\n      title: 'Challenges & Blockers',\n      fields: [\n        { name: 'revenueChallenges', label: 'Revenue challenges', type: 'textarea', required: true },\n        { name: 'salesMarketingChallenges', label: 'Sales/marketing challenges', type: 'textarea', required: true },\n        { name: 'techBottlenecks', label: 'Tech or infrastructure bottlenecks', type: 'textarea', required: true },\n        { name: 'customerSupportChallenges', label: 'Customer support challenges', type: 'textarea' },\n        { name: 'complianceConcerns', label: 'Compliance or regulatory concerns', type: 'textarea' },\n      ],\n    },\n    {\n      title: 'Industry-Specific Data',\n      fields: [\n        { name: 'targetCustomers', label: 'Target customers', type: 'textarea', placeholder: 'Describe your ideal customer profile...', required: true },\n        { name: 'competitors', label: 'Competitors', type: 'textarea', placeholder: 'List your main competitors...' },\n        { \n          name: 'dataFormat', \n          label: 'Existing data format', \n          type: 'select',\n          options: [\n            { value: 'Excel/Spreadsheets', label: 'Excel/Spreadsheets' },\n            { value: 'CRM System', label: 'CRM System (Salesforce, HubSpot, etc.)' },\n            { value: 'ERP System', label: 'ERP System (SAP, Oracle, etc.)' },\n            { value: 'Database', label: 'Database (SQL, NoSQL)' },\n            { value: 'Cloud Storage', label: 'Cloud Storage (Google Drive, Dropbox)' },\n            { value: 'Paper-based', label: 'Paper-based Records' },\n            { value: 'Mixed/Multiple', label: 'Mixed/Multiple Systems' },\n            { value: 'No formal system', label: 'No formal system' },\n          ]\n        },\n        { name: 'industrySpecificProcesses', label: 'Industry-specific processes requiring optimization', type: 'textarea', placeholder: 'Describe unique processes in your industry...' },\n      ],\n    },\n    {\n      title: 'Preferences & Constraints',\n      fields: [\n        { \n          name: 'budgetPreference', \n          label: 'Budget preference', \n          type: 'select',\n          required: true,\n          options: [\n            { value: 'Low ($5K-$15K)', label: 'Low ($5K-$15K)' },\n            { value: 'Medium ($15K-$50K)', label: 'Medium ($15K-$50K)' },\n            { value: 'High ($50K-$150K)', label: 'High ($50K-$150K)' },\n            { value: 'Enterprise ($150K+)', label: 'Enterprise ($150K+)' },\n            { value: 'Flexible', label: 'Flexible - ROI Driven' },\n          ]\n        },\n        { \n          name: 'preferredSolutionType', \n          label: 'Preferred solution type', \n          type: 'select',\n          required: true,\n          options: [\n            { value: 'Web Application', label: 'Web Application' },\n            { value: 'Mobile App (iOS/Android)', label: 'Mobile App (iOS/Android)' },\n            { value: 'Process Automation', label: 'Process Automation' },\n            { value: 'Backend/API Development', label: 'Backend/API Development' },\n            { value: 'Cybersecurity Solutions', label: 'Cybersecurity Solutions' },\n            { value: 'AI/ML Solutions', label: 'AI/ML Solutions' },\n            { value: 'Cloud Infrastructure', label: 'Cloud Infrastructure' },\n            { value: 'Data Analytics/BI', label: 'Data Analytics/BI' },\n            { value: 'Full Stack Solution', label: 'Full Stack Solution' },\n            { value: 'Not Sure - Need Consultation', label: 'Not Sure - Need Consultation' },\n          ]\n        },\n        { \n          name: 'deadline', \n          label: 'Deadline or urgency', \n          type: 'select',\n          required: true,\n          options: [\n            { value: 'Urgent (1-2 months)', label: 'Urgent (1-2 months)' },\n            { value: 'Standard (3-6 months)', label: 'Standard (3-6 months)' },\n            { value: 'Long-term (6-12 months)', label: 'Long-term (6-12 months)' },\n            { value: 'Flexible Timeline', label: 'Flexible Timeline' },\n          ]\n        },\n        { name: 'hasDevTeam', label: 'Do you have an existing developer team?', type: 'checkbox' },\n        { name: 'resourceConstraints', label: 'Resource constraints', type: 'textarea', placeholder: 'Describe any limitations in budget, time, or team capacity...' },\n      ],\n    },\n  ];\n\n  const currentSectionData = sections[currentSection];\n  const isLastSection = currentSection === sections.length - 1;\n\n  const handleNext = () => {\n    if (currentSection < sections.length - 1) {\n      setCurrentSection(currentSection + 1);\n      window.scrollTo(0, 0);\n    }\n  };\n\n  const handlePrevious = () => {\n    if (currentSection > 0) {\n      setCurrentSection(currentSection - 1);\n      window.scrollTo(0, 0);\n    }\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (formData.operatingRegions.length === 0) {\n      toast.error('Please select at least one operating region');\n      return;\n    }\n    \n    setLoading(true);\n    toast.loading('Generating your personalized recommendations...');\n\n    try {\n      const submissionData = { ...formData };\n      \n      if (formData.industry === 'Other' && customIndustry.trim()) {\n        submissionData.industry = customIndustry;\n      }\n      \n      const response = await fetch('/api/analyze-profile', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(submissionData),\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({}));\n        throw new Error(errorData.error || 'Analysis failed');\n      }\n\n      const result = await response.json();\n      \n      const user = getUser();\n      const session = {\n        userId: user?.id || '',\n        businessProfile: submissionData,\n        recommendations: result.recommendations,\n        projectBlueprint: result.projectBlueprint,\n        lastUpdated: new Date().toISOString(),\n      };\n      \n      saveSession(session);\n      clearQuestionnaireDraft();\n      toast.dismiss();\n      toast.success('Recommendations generated successfully!');\n      \n      setTimeout(() => {\n        router.push('/dashboard');\n      }, 1000);\n    } catch (error) {\n      console.error('Submission error:', error);\n      toast.dismiss();\n      const errorMessage = error instanceof Error ? error.message : 'Failed to generate recommendations';\n      toast.error(`${errorMessage}. Please try again or contact support.`);\n      setLoading(false);\n    }\n  };\n\n  const progressPercentage = Math.round(((currentSection + 1) / sections.length) * 100);\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 page-transition\">\n      <Toaster position=\"top-right\" />\n      \n      <div className=\"container mx-auto px-4 py-8 md:py-12\">\n        {fromUpload && (\n          <div className=\"max-w-4xl mx-auto mb-6\">\n            <div className=\"bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-300 rounded-xl p-5 shadow-md\">\n              <div className=\"flex items-start gap-4\">\n                <div className=\"w-12 h-12 bg-green-600 rounded-xl flex items-center justify-center flex-shrink-0\">\n                  <CheckCircle className=\"w-6 h-6 text-white\" />\n                </div>\n                <div className=\"flex-1\">\n                  <h3 className=\"text-lg font-bold text-green-900 mb-2\">\n                    ‚úÖ Business Profile Loaded Successfully!\n                  </h3>\n                  <p className=\"text-sm text-green-800 mb-3\">\n                    We've automatically extracted information from your uploaded document and pre-filled the questionnaire. The form below has been populated with your business details.\n                  </p>\n                  <div className=\"bg-white bg-opacity-60 rounded-lg p-3 border border-green-200\">\n                    <p className=\"text-xs text-green-900 font-semibold mb-1\">üìù Please Review:</p>\n                    <p className=\"text-xs text-green-800\">\n                      Some fields may say \"Not specified in document\" - please update these with accurate information. Feel free to review and modify any pre-filled information to ensure accuracy.\n                    </p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n        \n        <div className=\"text-center mb-8\">\n          <h1 className=\"text-3xl md:text-4xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent mb-4\">\n            Business Profile Questionnaire\n          </h1>\n          <p className=\"text-gray-600 max-w-2xl mx-auto\">\n            Share your business details and get real-time AI-powered recommendations as you go\n          </p>\n        </div>\n\n        <div className=\"max-w-4xl mx-auto mb-8\">\n          <div className=\"bg-white rounded-xl shadow-sm p-6 mb-6\">\n            <div className=\"flex items-center justify-between mb-3\">\n              <span className=\"text-sm font-semibold text-gray-700\">Progress</span>\n              <span className=\"text-sm font-bold text-indigo-600\">{progressPercentage}% Complete</span>\n            </div>\n            \n            <div className=\"relative h-3 bg-gray-200 rounded-full overflow-hidden mb-6\">\n              <div \n                className=\"absolute h-full bg-gradient-to-r from-blue-600 to-indigo-600 transition-all duration-500 ease-out\"\n                style={{ width: `${progressPercentage}%` }}\n              />\n            </div>\n\n            <div className=\"grid grid-cols-7 gap-2\">\n              {sections.map((section, idx) => (\n                <div key={idx} className=\"flex flex-col items-center\">\n                  <div className={`\n                    w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold transition-all duration-300\n                    ${idx < currentSection \n                      ? 'bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-md' \n                      : idx === currentSection \n                      ? 'bg-white border-4 border-indigo-600 text-indigo-600 shadow-lg scale-110' \n                      : 'bg-gray-200 text-gray-500'}\n                  `}>\n                    {idx < currentSection ? (\n                      <Check className=\"w-5 h-5\" strokeWidth={3} />\n                    ) : (\n                      idx + 1\n                    )}\n                  </div>\n                  <span className={`\n                    mt-2 text-xs font-medium text-center hidden md:block\n                    ${idx === currentSection ? 'text-indigo-600' : 'text-gray-500'}\n                  `}>\n                    {section.title.split(' ')[0]}\n                  </span>\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n\n        <div className=\"max-w-7xl mx-auto\">\n          <div className=\"grid lg:grid-cols-3 gap-8\">\n            <div className=\"lg:col-span-2\">\n              <Card>\n            <div className=\"mb-8\">\n              <div className=\"inline-flex items-center gap-2 px-4 py-2 bg-indigo-50 rounded-lg mb-4\">\n                <span className=\"text-3xl font-bold text-indigo-600\">\n                  {currentSection + 1}/{sections.length}\n                </span>\n                <span className=\"text-sm text-indigo-600 font-medium\">Section</span>\n              </div>\n              \n              <h2 className=\"text-3xl font-bold text-gray-900 mb-2\">\n                {currentSectionData.title}\n              </h2>\n              <div className=\"h-1 w-20 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-full\"></div>\n            </div>\n\n            <form onSubmit={isLastSection ? handleSubmit : (e) => { e.preventDefault(); handleNext(); }}>\n              <div className=\"space-y-6\">\n                {currentSectionData.fields.map((field: any) => (\n                  <div key={field.name} className=\"transition-all\">\n                    {field.type === 'checkbox' ? (\n                      <label className=\"flex items-center gap-3 p-4 rounded-lg border-2 border-gray-200 hover:border-indigo-300 cursor-pointer transition-all bg-white\">\n                        <input\n                          type=\"checkbox\"\n                          checked={formData[field.name as keyof BusinessProfile] as boolean}\n                          onChange={(e) => updateField(field.name as keyof BusinessProfile, e.target.checked)}\n                          className=\"w-5 h-5 text-indigo-600 rounded focus:ring-2 focus:ring-indigo-500\"\n                        />\n                        <span className=\"text-gray-800 font-medium\">{field.label}</span>\n                      </label>\n                    ) : field.type === 'multiselect' ? (\n                      <MultiSelect\n                        label={field.label}\n                        value={formData[field.name as keyof BusinessProfile] as string[]}\n                        onChange={(value) => updateField(field.name as keyof BusinessProfile, value)}\n                        options={field.options || []}\n                        placeholder={`Select ${field.label.toLowerCase()}`}\n                        required={field.required}\n                      />\n                    ) : field.type === 'select' ? (\n                      <>\n                        <Select\n                          label={field.label}\n                          value={formData[field.name as keyof BusinessProfile] as string}\n                          onChange={(value) => {\n                            updateField(field.name as keyof BusinessProfile, value);\n                            if (field.name === 'industry' && value !== 'Other') {\n                              setCustomIndustry('');\n                            }\n                          }}\n                          options={field.options || []}\n                          placeholder={`Select ${field.label.toLowerCase()}`}\n                          required={field.required}\n                        />\n                        {field.name === 'industry' && formData.industry === 'Other' && (\n                          <div className=\"mt-4\">\n                            <Input\n                              label=\"Please specify your industry\"\n                              type=\"text\"\n                              value={customIndustry}\n                              onChange={(value) => setCustomIndustry(value)}\n                              placeholder=\"Enter your industry name...\"\n                              required={true}\n                            />\n                          </div>\n                        )}\n                      </>\n                    ) : (\n                      <Input\n                        label={field.label}\n                        type={field.type === 'textarea' ? 'text' : field.type}\n                        value={formData[field.name as keyof BusinessProfile] as string}\n                        onChange={(value) => updateField(field.name as keyof BusinessProfile, value)}\n                        placeholder={field.placeholder}\n                        required={field.required}\n                        multiline={field.type === 'textarea'}\n                        rows={4}\n                      />\n                    )}\n                  </div>\n                ))}\n              </div>\n\n              <div className=\"flex gap-4 mt-10 pt-6 border-t-2 border-gray-100\">\n                {currentSection > 0 && (\n                  <Button\n                    type=\"button\"\n                    variant=\"outline\"\n                    onClick={handlePrevious}\n                    disabled={loading}\n                  >\n                    <ArrowLeft className=\"w-5 h-5\" />\n                    Previous\n                  </Button>\n                )}\n                \n                <Button\n                  type=\"submit\"\n                  fullWidth={currentSection === 0}\n                  disabled={loading}\n                  variant={isLastSection ? 'secondary' : 'primary'}\n                >\n                  {isLastSection ? (\n                    <>\n                      <Sparkles className=\"w-5 h-5\" />\n                      Generate Recommendations\n                    </>\n                  ) : (\n                    <>\n                      Next Section\n                      <ArrowRight className=\"w-5 h-5\" />\n                    </>\n                  )}\n                </Button>\n              </div>\n            </form>\n          </Card>\n            </div>\n\n            <div className=\"lg:col-span-1\">\n              <div className=\"sticky top-8 max-h-screen overflow-y-auto\">\n                <Card>\n                  <div className=\"mb-6\">\n                    <div className=\"flex items-center gap-2 mb-4\">\n                      <Lightbulb className=\"w-6 h-6 text-indigo-600\" />\n                      <h3 className=\"text-lg font-bold text-gray-900\">Cehpoint AI Insights</h3>\n                    </div>\n                    <p className=\"text-sm text-gray-600\">\n                      Based on your responses, here are personalized recommendations\n                    </p>\n                  </div>\n\n                  {loadingSuggestions ? (\n                    <div className=\"space-y-4\">\n                      {[1, 2, 3].map(i => (\n                        <div key={i} className=\"animate-pulse bg-gray-100 rounded-lg p-4 h-24\"></div>\n                      ))}\n                    </div>\n                  ) : liveSuggestions.length > 0 ? (\n                    <div className=\"space-y-4\">\n                      {liveSuggestions.map((suggestion, idx) => {\n                        const IconComponent = getIcon(suggestion.icon);\n                        return (\n                          <div \n                            key={idx} \n                            className=\"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-4 border border-indigo-100 hover:shadow-md transition-all duration-300\"\n                          >\n                            <div className=\"flex items-start gap-3\">\n                              <div className=\"w-10 h-10 bg-indigo-600 rounded-lg flex items-center justify-center flex-shrink-0\">\n                                <IconComponent className=\"w-5 h-5 text-white\" />\n                              </div>\n                              <div className=\"flex-1\">\n                                <h4 className=\"font-semibold text-gray-900 text-sm mb-1\">\n                                  {suggestion.title}\n                                </h4>\n                                <p className=\"text-xs text-gray-700 leading-relaxed\">\n                                  {suggestion.description}\n                                </p>\n                              </div>\n                            </div>\n                          </div>\n                        );\n                      })}\n                      <div className=\"pt-4 border-t border-gray-200 text-center\">\n                        <p className=\"text-xs text-gray-500 flex items-center justify-center gap-1\">\n                          <TrendingUp className=\"w-3 h-3\" />\n                          Insights update as you fill the form\n                        </p>\n                      </div>\n                    </div>\n                  ) : (\n                    <div className=\"text-center py-6\">\n                      <div className=\"w-16 h-16 bg-gradient-to-br from-blue-100 to-indigo-100 rounded-full flex items-center justify-center mx-auto mb-3\">\n                        <Sparkles className=\"w-8 h-8 text-indigo-600\" />\n                      </div>\n                      <p className=\"text-sm text-gray-700 font-medium mb-4\">\n                        Start filling out the form to see personalized AI recommendations\n                      </p>\n                      <div className=\"bg-blue-50 rounded-lg p-4 border border-blue-100\">\n                        <p className=\"text-xs text-blue-900 font-semibold mb-1\">üí° Did you know?</p>\n                        <p className=\"text-xs text-blue-800\">\n                          Companies using our solutions see an average 40% cost reduction in their first year\n                        </p>\n                      </div>\n                    </div>\n                  )}\n\n                  {/* Encouraging Progress Facts */}\n                  <div className=\"mt-6 space-y-3\">\n                    <div className=\"p-3 bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg border border-green-200\">\n                      <div className=\"flex items-start gap-2\">\n                        <CheckCircle className=\"w-4 h-4 text-green-600 flex-shrink-0 mt-0.5\" />\n                        <div>\n                          <p className=\"text-xs text-green-900 font-semibold\">‚úì Free Consultation</p>\n                          <p className=\"text-xs text-green-800\">No commitment required - get expert advice first</p>\n                        </div>\n                      </div>\n                    </div>\n                    \n                    <div className=\"p-3 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-200\">\n                      <div className=\"flex items-start gap-2\">\n                        <TrendingUp className=\"w-4 h-4 text-blue-600 flex-shrink-0 mt-0.5\" />\n                        <div>\n                          <p className=\"text-xs text-blue-900 font-semibold\">üìä Proven ROI</p>\n                          <p className=\"text-xs text-blue-800\">95% of clients achieve positive ROI within 6 months</p>\n                        </div>\n                      </div>\n                    </div>\n\n                    <div className=\"p-3 bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg border border-purple-200\">\n                      <div className=\"flex items-start gap-2\">\n                        <Target className=\"w-4 h-4 text-purple-600 flex-shrink-0 mt-0.5\" />\n                        <div>\n                          <p className=\"text-xs text-purple-900 font-semibold\">üéØ Competitive Global Pricing</p>\n                          <p className=\"text-xs text-purple-800\">Starting from $300 / ‚Çπ25,000 / ‚Ç¨280 - Flexible payment plans</p>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* Enhanced WhatsApp Contact */}\n                  <div className=\"mt-6 p-4 bg-gradient-to-r from-green-50 to-green-100 rounded-xl border-2 border-green-300 shadow-sm hover:shadow-md transition-shadow\">\n                    <div className=\"flex items-start gap-3\">\n                      <div className=\"w-10 h-10 bg-green-600 rounded-full flex items-center justify-center flex-shrink-0\">\n                        <MessageCircle className=\"w-5 h-5 text-white\" />\n                      </div>\n                      <div className=\"flex-1\">\n                        <h4 className=\"font-bold text-green-900 text-sm mb-1\">\n                          üí¨ Need Help? Chat Instantly!\n                        </h4>\n                        <p className=\"text-xs text-green-800 mb-3 font-medium\">\n                          Our team responds within 5 minutes on WhatsApp\n                        </p>\n                        <a\n                          href=\"https://wa.me/919091156095?text=Hi%2C%20I%27m%20filling%20the%20questionnaire%20and%20need%20help%20with%20section%20{currentSection + 1}\"\n                          target=\"_blank\"\n                          rel=\"noopener noreferrer\"\n                          className=\"inline-flex items-center gap-2 px-4 py-2 bg-green-600 text-white text-xs font-bold rounded-lg hover:bg-green-700 transition-all shadow-md hover:shadow-lg\"\n                        >\n                          <MessageCircle className=\"w-4 h-4\" />\n                          Chat with Expert Now\n                        </a>\n                      </div>\n                    </div>\n                  </div>\n                </Card>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","size_bytes":37257},"replit.md":{"content":"# Cehpoint - AI-Powered Client Onboarding & Service Recommendation System\n\n## Overview\nCehpoint is an intelligent client onboarding platform that leverages Google Gemini AI to analyze business profiles and generate personalized IT service, cybersecurity, and automation recommendations. The system provides a consultative, data-driven approach to identifying technology solutions that match each client's unique business needs.\n\n**Built:** November 14, 2025\n**Tech Stack:** Next.js, TypeScript, Tailwind CSS, Google Gemini API\n**Current Status:** Fully functional MVP with complete user flow\n\n## Project Purpose\nTransform business consulting by using AI to:\n- Analyze client business profiles comprehensively\n- Identify specific automation, security, and technology opportunities\n- Generate actionable, prioritized service recommendations\n- Provide clear business impact and ROI estimates\n- Create high-level project blueprints\n\n## Architecture\n\n### Frontend (Next.js Pages Router)\n- **pages/index.tsx** - Landing page with overview\n- **pages/login.tsx** - Authentication/signup page\n- **pages/discovery.tsx** - Business profile upload and questionnaire selection\n- **pages/questionnaire.tsx** - 7-section smart questionnaire\n- **pages/dashboard.tsx** - Recommendations and project blueprint view\n\n### API Routes\n- **pages/api/analyze-profile.ts** - Analyzes questionnaire data with Gemini\n- **pages/api/analyze-document.ts** - Analyzes uploaded documents with Gemini\n- **pages/api/fetch-url.ts** - Fetches and extracts content from URLs\n\n### Core Services\n- **lib/gemini.ts** - Gemini API integration for AI analysis\n- **lib/storage.ts** - Local storage management for sessions\n- **lib/fileParser.ts** - File parsing (PDF, DOCX, TXT)\n\n### Types\n- **types/index.ts** - TypeScript interfaces for all data structures\n\n### UI Components\n- **components/Button.tsx** - Reusable button with variants\n- **components/Card.tsx** - Card container with hover effects\n- **components/Input.tsx** - Form input with label support\n\n## Key Features\n\n### 1. Dual Onboarding Methods\n- **Upload Business Profile** - PDF, DOCX, TXT, or website URL\n- **Smart Questionnaire** - 7 comprehensive sections covering all business aspects\n\n### 2. AI-Powered Analysis\nUses Google Gemini to:\n- Extract business information from uploaded documents\n- Analyze business challenges, goals, and technology status\n- Generate 6-12 personalized recommendations across 6 categories\n- Create project blueprints with phases, deliverables, and costs\n\n### 3. Recommendation Categories\n1. Process Automation & Optimization\n2. Software Solutions\n3. Cybersecurity & Risk Reduction\n4. Technology Modernization\n5. AI & Intelligent Automation\n6. Industry-Specific Solutions\n\n### 4. Rich Dashboard\n- Priority-based recommendations (High/Medium/Low)\n- Category filtering\n- Business impact and ROI display\n- Timeline and cost estimates\n- Project blueprint with phases\n- **Download Proposal** - Export comprehensive HTML proposal with all recommendations\n- **Submit to Cehpoint** - Connect via WhatsApp with pre-filled inquiry\n\n## User Flow\n\n1. **Landing Page** ‚Üí User sees overview and value proposition\n2. **Sign Up/Login** ‚Üí Simple authentication with email\n3. **Discovery** ‚Üí Choose upload or questionnaire\n4. **Analysis** ‚Üí AI processes business information\n5. **Dashboard** ‚Üí View personalized recommendations and blueprint\n\n## Data Storage\n- **Local Storage** for MVP (session persistence)\n- Ready for Supabase backend integration (developer will add later)\n\n## Environment Variables\n- **GEMINI_API_KEY** - Google Gemini API key (configured in Replit Secrets)\n\n## Recent Changes\n\n### November 17, 2025 - Proposal Download & Client Submission Features\n\n**Proposal Export System:**\n- ‚úÖ Created professional HTML proposal generator (no backend required)\n- ‚úÖ Download Proposal button generates comprehensive client-ready document\n- ‚úÖ Proposal includes all recommendations, pricing, timeline, and project blueprint\n- ‚úÖ Prominently features contact information: +91 909 115 6095, sales@cehpoint.co.in, cehpoint.co.in\n- ‚úÖ Professional formatting with company branding, testimonials, and CTAs\n- ‚úÖ Downloadable as HTML file (can be printed to PDF by client)\n\n**Client Submission Features:**\n- ‚úÖ Submit to Cehpoint button opens WhatsApp with pre-filled business summary\n- ‚úÖ Pre-populated message includes company name, solution count, and consultation request\n- ‚úÖ Direct integration with sales team (+91 909 115 6095)\n- ‚úÖ All features work client-side without backend\n\n**Contact Information Updates:**\n- ‚úÖ Changed all email addresses to sales@cehpoint.co.in (from contact@cehpoint.com)\n- ‚úÖ Updated across homepage footer, dashboard footer, and proposal templates\n- ‚úÖ Consistent branding: phone, email, website URL in all customer touchpoints\n\n### November 17, 2025 - Masterpiece UX: Trust Signals, Global Contact & Mobile Optimization\n\n**Trust & Credibility Enhancements:**\n- ‚úÖ Added client testimonials section with 3 credible success stories (FinTech, E-commerce, SaaS)\n- ‚úÖ Added comprehensive FAQ section with 5 key questions (pricing, timelines, international clients, differentiation, support)\n- ‚úÖ Enhanced footer with global contact options (Email, Phone, WhatsApp, Time Zones)\n- ‚úÖ Added professional privacy/terms links in footer\n- ‚úÖ Improved footer messaging to emphasize global reach: \"500+ clients across 40+ countries\"\n\n**UX & Mobile Improvements:**\n- ‚úÖ Added logout confirmation dialog to prevent accidental logout\n- ‚úÖ Optimized mobile responsiveness: hero stats grid (2 cols mobile, 4 cols desktop)\n- ‚úÖ Fixed questionnaire sidebar overflow with max-height and scroll\n- ‚úÖ Made dashboard buttons responsive with flex-wrap and smaller text on mobile\n- ‚úÖ All trust elements (testimonials, FAQ, certifications) properly styled for mobile\n\n**Technical Fixes:**\n- ‚úÖ Fixed missing icon imports (Mail, Phone, Clock) in homepage\n- ‚úÖ All sections verified rendering correctly via curl tests\n- ‚úÖ No LSP errors or build issues\n\n### November 17, 2025 - Multi-Currency Support & Standardized Pricing\n\n**Global Positioning & Sample Portfolio:**\n- ‚úÖ Changed messaging from \"for Indian Businesses\" to \"for Growing Businesses Worldwide\"\n- ‚úÖ Added multi-currency pricing throughout (USD / INR / EUR) on all pages\n- ‚úÖ Integrated \"View Projects Portfolio\" button linking to https://portfolios.cehpoint.co.in/\n- ‚úÖ Updated pricing section to emphasize global reach with \"Multi-currency support\"\n- ‚úÖ Changed stats from \"‚Çπ25K+\" to \"$300+\" for international appeal\n- ‚úÖ Modified questionnaire sidebar pricing message to show multi-currency\n\n**AI Recommendations Pricing Standardization:**\n- ‚úÖ Updated Gemini API prompts to generate pricing between ‚Çπ10,000 - ‚Çπ95,000\n- ‚úÖ All AI-generated recommendations now include USD equivalent in brackets\n- ‚úÖ Format: \"‚Çπ[amount] ($[usd_amount])\" using ~‚Çπ83 = $1 conversion\n- ‚úÖ Project blueprint total costs also follow same ‚Çπ10,000-‚Çπ95,000 range\n- ‚úÖ Ensures affordable, competitive pricing for all clients\n\n### November 16, 2025 - Production-Ready Platform with Robust Validation & Multi-Select Regions\n\n**Professional Dashboard & WhatsApp Integration:**\n- ‚úÖ Redesigned dashboard from \"AI Recommendations\" to \"Technology Solutions Portfolio\"\n- ‚úÖ Removed AI-centric language and replaced with professional consulting terminology\n- ‚úÖ Added credibility section with certifications (ISO 27001, SOC 2, Google Partner, CMMI Level 3)\n- ‚úÖ Integrated WhatsApp contact buttons (wa.me/919091156095) for every service\n- ‚úÖ Added \"Discuss Solution\" and \"Request Quote\" WhatsApp CTAs on each service card\n- ‚úÖ Enhanced landing page with trust badges and certification section\n- ‚úÖ Added professional consulting footer with contact information\n- ‚úÖ Improved overall UI to look like genuine enterprise consulting firm\n\n**Multi-Select Operating Regions:**\n- ‚úÖ Created custom MultiSelect component for intuitive multi-region selection\n- ‚úÖ Updated BusinessProfile type to use string[] for operatingRegions\n- ‚úÖ Added data migration logic for legacy sessions (string ‚Üí array)\n- ‚úÖ Fixed Gemini API integration to properly handle array data\n\n**Production-Grade Validation & Error Handling:**\n- ‚úÖ Installed and integrated Zod for comprehensive schema validation\n- ‚úÖ Created validation schemas for all data structures (ServiceRecommendation, ProjectBlueprint, BusinessProfile)\n- ‚úÖ Added robust validation to Gemini API responses to prevent crashes from malformed AI output\n- ‚úÖ Added request payload validation and size limits (1MB for profile, 2MB for documents)\n- ‚úÖ Implemented boolean coercion to handle \"Yes\"/\"No\" string responses from Gemini\n- ‚úÖ Wrapped all JSON.parse operations in try/catch with user-friendly error messages\n- ‚úÖ Created centralized normalizeBusinessProfile function for consistent data normalization\n- ‚úÖ Added null/empty response checks before parsing\n- ‚úÖ Auto-generate missing IDs for recommendations to handle Gemini variations\n- ‚úÖ Added proper error handling to both analyze-profile and analyze-document APIs\n- ‚úÖ Implemented content size validation for document uploads (500KB limit)\n\n### November 14, 2025 - Production-Ready MVP Complete\n- ‚úÖ Set up complete Next.js application with TypeScript\n- ‚úÖ Integrated Google Gemini API for AI analysis\n- ‚úÖ Built 7-section comprehensive questionnaire with dropdown selects\n- ‚úÖ Created professional corporate UI with Tailwind CSS v4\n- ‚úÖ Implemented session persistence with localStorage\n- ‚úÖ Added visual progress indicators to questionnaire\n- ‚úÖ Enhanced homepage with professional corporate design\n- ‚úÖ Converted Operating Countries/Regions to dropdown (46+ countries)\n- ‚úÖ Disabled business profile upload (requires developer configuration)\n- ‚úÖ Added environment variable validation\n- ‚úÖ Fixed all TypeScript/build errors\n- ‚úÖ Configured Vercel deployment (autoscale)\n- ‚úÖ Added comprehensive Supabase integration documentation\n- ‚úÖ Added commented backend integration code for developers\n- ‚úÖ Created deployment checklist and guides\n\n## User Preferences\n- Clean, modern gradient-based design\n- Masterpiece UX with smooth transitions\n- High-quality AI recommendations (specific, actionable, valuable)\n- Professional color scheme (blue, indigo, purple gradients)\n- Mobile-friendly responsive design\n\n## Development Notes\n\n### Tailwind CSS Setup\n- Using Tailwind CSS v4 with @tailwindcss/postcss\n- PostCSS configured with autoprefixer\n- Global styles in styles/globals.css\n\n### Next.js Configuration\n- Port 5000 for Replit compatibility\n- Hostname 0.0.0.0 for public access\n- Pages Router (not App Router)\n\n### Future Enhancements (For Developer)\n- Supabase backend integration\n- User authentication with database\n- Persistent storage of profiles and recommendations\n- Email notifications\n- PDF export of recommendations\n- Admin dashboard\n- Analytics and tracking\n\n## Technical Decisions\n\n1. **Why Gemini API?** - Superior analysis capabilities, JSON mode, multimodal support\n2. **Why Local Storage?** - Simplifies MVP, easy to migrate to Supabase later\n3. **Why Next.js?** - Server-side API routes, easy deployment, TypeScript support\n4. **Why Tailwind CSS?** - Rapid UI development, consistent design system\n5. **Why Pages Router?** - Simpler for this use case than App Router\n\n## MVP Status & Limitations\n\n### ‚úÖ Production-Ready Features\n- Professional landing page with corporate design\n- Email-based \"authentication\" (localStorage-based for MVP)\n- Complete 7-section questionnaire with:\n  - 18+ industries with custom option\n  - 10+ business models\n  - 6 team size ranges\n  - 46+ countries/regions\n  - Comprehensive solution types and budget ranges\n- Session persistence (auto-saves every change)\n- Google Gemini AI analysis\n- AI-generated recommendations (6-12 per submission)\n- Project blueprint with phases and costs\n- Responsive design (mobile, tablet, desktop)\n- Visual progress indicators\n- Error handling and loading states\n\n### ‚ö†Ô∏è MVP Limitations (For Backend Integration)\n1. **Authentication**: localStorage-based (not production-ready)\n   - No multi-device support\n   - Data lost if browser cache cleared\n   - No password security\n   \n2. **Data Persistence**: No database\n   - Recommendations stored in localStorage only\n   - No historical data retention\n   - Cannot share or export recommendations\n   \n3. **Document Upload**: Temporarily disabled\n   - Requires production file storage configuration\n   - Backend parsing needs testing on Vercel\n   \n4. **Scalability**: Client-side heavy\n   - All processing via API routes\n   - No caching layer\n   - Subject to Gemini API rate limits\n\n### üìã Handoff Documentation\n- **SUPABASE_INTEGRATION.md** - Complete Supabase backend integration guide\n- **DEPLOYMENT.md** - Vercel deployment checklist\n- **lib/supabase.ts.example** - Supabase client example\n- **lib/env-validation.ts** - Environment variable validation\n- **Commented code** - TODO markers throughout codebase for backend integration\n\n## Performance\n- Fast initial load\n- Efficient AI processing with streaming support\n- Responsive UI with smooth transitions\n- Optimized for Vercel/Replit deployment\n","size_bytes":13194},"lib/storage.ts":{"content":"import { ClientSession, User } from \"@/types\";\n\n// TODO: When Supabase is integrated, uncomment this import and remove localStorage code\n// import { supabase } from './supabase';\n\nconst SESSION_KEY = 'cehpoint_session';\nconst USER_KEY = 'cehpoint_user';\n\n/**\n * BACKEND INTEGRATION GUIDE:\n * \n * This file currently uses localStorage for MVP demonstration.\n * To integrate with Supabase backend:\n * \n * 1. Rename lib/supabase.ts.example to lib/supabase.ts\n * 2. Uncomment the supabase import above\n * 3. Replace each localStorage function with Supabase calls\n * 4. See SUPABASE_INTEGRATION.md for complete guide\n * \n * Example Supabase replacement for saveSession:\n * \n * export async function saveSession(session: ClientSession): Promise<void> {\n *   const { data: { user } } = await supabase.auth.getUser();\n *   if (!user) throw new Error('Not authenticated');\n *   \n *   await supabase.from('questionnaire_submissions').upsert({\n *     user_id: user.id,\n *     ...session.businessProfile,\n *   });\n * }\n */\n\nexport function saveSession(session: ClientSession): void {\n  // MVP: Using localStorage\n  if (typeof window !== 'undefined') {\n    localStorage.setItem(SESSION_KEY, JSON.stringify(session));\n  }\n  \n  // TODO: Supabase implementation (uncomment when ready):\n  // const saveSessionToSupabase = async () => {\n  //   const { data: { user } } = await supabase.auth.getUser();\n  //   if (!user) return;\n  //   \n  //   await supabase.from('questionnaire_submissions').upsert({\n  //     user_id: user.id,\n  //     ...session.businessProfile,\n  //   });\n  // };\n  // saveSessionToSupabase();\n}\n\nexport function getSession(): ClientSession | null {\n  if (typeof window !== 'undefined') {\n    const data = localStorage.getItem(SESSION_KEY);\n    return data ? JSON.parse(data) : null;\n  }\n  return null;\n}\n\nexport function clearSession(): void {\n  if (typeof window !== 'undefined') {\n    localStorage.removeItem(SESSION_KEY);\n  }\n}\n\nexport function saveUser(user: User): void {\n  if (typeof window !== 'undefined') {\n    localStorage.setItem(USER_KEY, JSON.stringify(user));\n  }\n}\n\nexport function getUser(): User | null {\n  if (typeof window !== 'undefined') {\n    const data = localStorage.getItem(USER_KEY);\n    return data ? JSON.parse(data) : null;\n  }\n  return null;\n}\n\nexport function clearUser(): void {\n  if (typeof window !== 'undefined') {\n    localStorage.removeItem(USER_KEY);\n  }\n}\n\nexport function isAuthenticated(): boolean {\n  // MVP: Using localStorage\n  return getUser() !== null;\n  \n  // TODO: Supabase implementation (uncomment when ready):\n  // const checkAuth = async () => {\n  //   const { data: { session } } = await supabase.auth.getSession();\n  //   return session !== null;\n  // };\n  // return checkAuth();\n}\n\nexport function logout(): void {\n  if (typeof window !== 'undefined') {\n    localStorage.removeItem(USER_KEY);\n    localStorage.removeItem(SESSION_KEY);\n    localStorage.removeItem('cehpoint_questionnaire_draft');\n  }\n}\n\nconst QUESTIONNAIRE_DRAFT_KEY = 'cehpoint_questionnaire_draft';\n\nexport function saveQuestionnaireDraft(data: any): void {\n  if (typeof window !== 'undefined') {\n    localStorage.setItem(QUESTIONNAIRE_DRAFT_KEY, JSON.stringify({\n      ...data,\n      lastSaved: new Date().toISOString(),\n    }));\n  }\n}\n\nexport function getQuestionnaireDraft(): any | null {\n  if (typeof window !== 'undefined') {\n    const data = localStorage.getItem(QUESTIONNAIRE_DRAFT_KEY);\n    return data ? JSON.parse(data) : null;\n  }\n  return null;\n}\n\nexport function clearQuestionnaireDraft(): void {\n  if (typeof window !== 'undefined') {\n    localStorage.removeItem(QUESTIONNAIRE_DRAFT_KEY);\n  }\n}\n","size_bytes":3635},"components/Select.tsx":{"content":"import React from 'react';\n\ninterface SelectProps {\n  label?: string;\n  value: string;\n  onChange: (value: string) => void;\n  options: { value: string; label: string }[];\n  placeholder?: string;\n  required?: boolean;\n  multiple?: boolean;\n}\n\nexport default function Select({\n  label,\n  value,\n  onChange,\n  options,\n  placeholder = 'Select an option',\n  required = false,\n  multiple = false,\n}: SelectProps) {\n  return (\n    <div className=\"mb-4\">\n      {label && (\n        <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n          {label} {required && <span className=\"text-red-500\">*</span>}\n        </label>\n      )}\n      <select\n        value={value}\n        onChange={(e) => onChange(e.target.value)}\n        required={required}\n        multiple={multiple}\n        className=\"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition-all text-gray-900 bg-white appearance-none cursor-pointer\"\n        style={{\n          backgroundImage: `url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3E%3Cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3E%3C/svg%3E\")`,\n          backgroundPosition: 'right 0.5rem center',\n          backgroundRepeat: 'no-repeat',\n          backgroundSize: '1.5em 1.5em',\n          paddingRight: '2.5rem',\n        }}\n      >\n        <option value=\"\" disabled>\n          {placeholder}\n        </option>\n        {options.map((option) => (\n          <option key={option.value} value={option.value}>\n            {option.label}\n          </option>\n        ))}\n      </select>\n    </div>\n  );\n}\n","size_bytes":1717},"DEPLOYMENT.md":{"content":"# Deployment Checklist for Cehpoint\n\nThis document provides a comprehensive checklist for deploying Cehpoint to production on Vercel.\n\n## Pre-Deployment Checklist\n\n### 1. Code Quality\n- [ ] Run `npm run build` locally and verify it succeeds\n- [ ] Run `npm run lint` and fix any errors\n- [ ] Remove all `console.log` statements from production code\n- [ ] Remove unused imports and dead code\n- [ ] Verify all TypeScript types are correct (no `any` types if possible)\n\n### 2. Environment Variables\n- [ ] `GEMINI_API_KEY` is set and verified in Vercel environment variables\n- [ ] Supabase variables added if backend is integrated\n- [ ] All environment variables are documented in README\n- [ ] No secrets are hardcoded in the codebase\n- [ ] Environment variables are validated at runtime (see lib/env-validation.ts)\n- [ ] Test validateEnv() function in API routes catches missing variables\n\n### 3. Feature Completeness\n- [ ] Landing page is professional and loads correctly\n- [ ] Login/signup flow works end-to-end\n- [ ] Discovery page directs users to questionnaire\n- [ ] Questionnaire has all 7 sections with proper validation\n- [ ] Session persistence works (localStorage for MVP)\n- [ ] AI analysis generates recommendations successfully\n- [ ] Dashboard displays recommendations correctly\n- [ ] Error states are handled gracefully\n- [ ] Loading states are shown during async operations\n\n### 4. Security\n- [ ] No API keys exposed in client-side code\n- [ ] CORS is properly configured\n- [ ] Input validation is in place for all forms\n- [ ] XSS protection is enabled (React handles this by default)\n- [ ] Rate limiting is considered for API routes (future enhancement)\n\n### 5. Performance\n- [ ] Images are optimized (use Next.js Image component)\n- [ ] Lazy loading is implemented where appropriate\n- [ ] Bundle size is reasonable (<500KB initial load)\n- [ ] No blocking API calls on initial page load\n- [ ] Lighthouse score is acceptable (>80 for Performance)\n\n### 6. Responsive Design\n- [ ] Mobile layout works (320px - 480px)\n- [ ] Tablet layout works (768px - 1024px)\n- [ ] Desktop layout works (1024px+)\n- [ ] Forms are easy to use on mobile\n- [ ] Navigation works on all screen sizes\n\n### 7. Browser Compatibility\n- [ ] Tested on Chrome (latest)\n- [ ] Tested on Firefox (latest)\n- [ ] Tested on Safari (latest)\n- [ ] Tested on Edge (latest)\n- [ ] No console errors in any browser\n\n---\n\n## Vercel Deployment Steps\n\n### Step 1: Connect Repository\n1. Go to [vercel.com](https://vercel.com)\n2. Click \"Add New Project\"\n3. Import your Git repository\n4. Select the repository for Cehpoint\n\n### Step 2: Configure Build Settings\n```\nFramework Preset: Next.js\nBuild Command: npm run build\nOutput Directory: .next (default)\nInstall Command: npm install\n```\n\n### Step 3: Set Environment Variables\n\n#### For MVP (Required)\nAdd these in Vercel dashboard (Settings ‚Üí Environment Variables):\n\n```\nGEMINI_API_KEY=your_actual_gemini_api_key\n```\n\n#### For Supabase Backend (Optional - Add When Integrating)\n```\nNEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co\nNEXT_PUBLIC_SUPABASE_ANON_KEY=your_anon_key\nSUPABASE_SERVICE_ROLE_KEY=your_service_role_key\n```\n\n**Important:**\n- Add for all environments (Production, Preview, Development)\n- Never commit API keys to Git\n- Use Vercel's encrypted storage\n- `NEXT_PUBLIC_*` variables are exposed to browser\n- `SUPABASE_SERVICE_ROLE_KEY` is server-only (never expose to client)\n\n### Step 4: Deploy\n1. Click \"Deploy\"\n2. Wait for build to complete (~2-3 minutes)\n3. Verify deployment is successful\n\n### Step 5: Test Production Build\n\n#### Environment Variable Verification\n- [ ] Visit Vercel Functions ‚Üí Logs\n- [ ] Trigger an API call (submit questionnaire)\n- [ ] Verify `GEMINI_API_KEY` is loaded correctly\n- [ ] Check for \"Environment variable\" errors in logs\n\n#### Complete User Flow Testing\n- [ ] Visit your production URL\n- [ ] Test the complete user flow:\n  1. Landing page loads correctly\n  2. Click \"Get Started\"\n  3. Sign up with email (localStorage)\n  4. Redirected to Discovery page\n  5. Click \"Start Questionnaire\"\n  6. Fill out at least one section\n  7. Navigate between sections (verify auto-save)\n  8. Submit questionnaire\n  9. AI analysis completes successfully\n  10. Dashboard shows 6-12 recommendations\n  11. Recommendations have categories, priorities, costs\n  12. Refresh page (verify session persists)\n- [ ] Test on mobile device (iPhone/Android)\n- [ ] Test on different browsers (Chrome, Safari, Firefox)\n- [ ] Check browser console for errors\n- [ ] Verify all API calls succeed (Network tab)\n\n#### Gemini API Verification\n- [ ] Submit questionnaire and verify AI analysis works\n- [ ] Check Gemini API quota at [Google AI Studio](https://ai.google.dev)\n- [ ] Verify API responses are complete (not truncated)\n- [ ] Test error handling (temporarily remove API key, verify graceful error)\n\n---\n\n## Post-Deployment Monitoring\n\n### 1. Vercel Analytics\n- Enable Vercel Analytics in project settings\n- Monitor page load times\n- Track user interactions\n\n### 2. Error Monitoring\nConsider adding:\n- Sentry for error tracking\n- LogRocket for session replay\n- Vercel's built-in logging\n\n### 3. Performance Monitoring\n- Monitor Lighthouse scores weekly\n- Check Core Web Vitals in Vercel dashboard\n- Optimize based on real user metrics\n\n---\n\n## Rollback Plan\n\nIf deployment fails or issues are found:\n\n### Option 1: Instant Rollback (Vercel)\n1. Go to Vercel dashboard\n2. Click \"Deployments\"\n3. Find previous working deployment\n4. Click \"Promote to Production\"\n\n### Option 2: Git Revert\n```bash\ngit revert HEAD\ngit push origin main\n```\nVercel will auto-deploy the reverted version.\n\n---\n\n## Known Limitations (MVP)\n\n1. **Authentication**: Uses localStorage (not production-ready)\n   - Users can only access from one browser\n   - Data is lost if browser cache is cleared\n   - No multi-device support\n\n2. **Data Persistence**: No backend database\n   - Recommendations are stored in localStorage only\n   - No historical data retention\n   - Cannot share recommendations\n\n3. **Document Upload**: Temporarily disabled\n   - Backend parsing needs testing\n   - File storage not configured\n\n4. **Scalability**: Client-side only\n   - All AI processing happens via API routes\n   - No caching of recommendations\n   - Gemini API rate limits apply\n\n**These will be addressed when Supabase backend is integrated.**\n\n---\n\n## Future Enhancements Checklist\n\nAfter Supabase integration:\n- [ ] Real user authentication with JWT\n- [ ] Database persistence for all data\n- [ ] Multi-device access\n- [ ] User profile management\n- [ ] Historical recommendations view\n- [ ] PDF export of recommendations\n- [ ] Email notifications\n- [ ] Admin dashboard\n- [ ] Document upload re-enabled\n- [ ] Advanced analytics\n\n---\n\n## Support & Debugging\n\n### Common Issues\n\n**Issue: Build fails on Vercel**\n```\nSolution: Check build logs in Vercel dashboard\n- Verify all dependencies are in package.json\n- Ensure environment variables are set\n- Check for TypeScript errors\n```\n\n**Issue: API routes return 500**\n```\nSolution: Check Vercel Function logs\n- Verify GEMINI_API_KEY is set\n- Check API route error handling\n- Review Gemini API quota\n```\n\n**Issue: Blank page after deployment**\n```\nSolution: Check browser console\n- Look for JavaScript errors\n- Verify all assets are loading\n- Check for CORS issues\n```\n\n### Debugging Tools\n1. Vercel Dashboard ‚Üí Deployments ‚Üí Build Logs\n2. Vercel Dashboard ‚Üí Functions ‚Üí Real-time Logs\n3. Browser DevTools ‚Üí Console\n4. Browser DevTools ‚Üí Network tab\n\n---\n\n## Deployment Timeline\n\n**Estimated time: 1-2 hours**\n\n- Environment setup: 15 minutes\n- First deployment: 5 minutes\n- Testing & verification: 30 minutes\n- Bug fixes (if any): 15-30 minutes\n- Final deployment: 5 minutes\n- Post-deployment testing: 15 minutes\n\n---\n\n## Success Criteria\n\nDeployment is successful when:\n- ‚úÖ Build completes without errors\n- ‚úÖ All pages load correctly\n- ‚úÖ Questionnaire submission works\n- ‚úÖ AI analysis generates recommendations\n- ‚úÖ Dashboard displays results\n- ‚úÖ No console errors\n- ‚úÖ Mobile experience is smooth\n- ‚úÖ Lighthouse Performance score > 80\n\n---\n\n## Next Steps After Deployment\n\n1. **Monitor for 48 hours**\n   - Check error logs daily\n   - Monitor user feedback\n   - Track any performance issues\n\n2. **Gather Feedback**\n   - Test with real users\n   - Collect usability insights\n   - Identify pain points\n\n3. **Plan Backend Integration**\n   - Review SUPABASE_INTEGRATION.md\n   - Set up Supabase project\n   - Plan migration timeline\n\n4. **Iterate**\n   - Fix any bugs found\n   - Optimize based on analytics\n   - Implement quick wins\n\n---\n\n**Good luck with your deployment! üöÄ**\n\nFor questions or issues, refer to:\n- SUPABASE_INTEGRATION.md for backend setup\n- README.md for project overview\n- replit.md for technical architecture\n","size_bytes":8793},"SUPABASE_INTEGRATION.md":{"content":"# Supabase Backend Integration Guide\n\nThis guide provides step-by-step instructions for integrating Supabase as the backend database and authentication system for the Cehpoint application.\n\n## Table of Contents\n1. [Overview](#overview)\n2. [Prerequisites](#prerequisites)\n3. [Database Schema](#database-schema)\n4. [Authentication Setup](#authentication-setup)\n5. [Code Integration](#code-integration)\n6. [Environment Variables](#environment-variables)\n7. [Migration Steps](#migration-steps)\n8. [Testing](#testing)\n\n---\n\n## Overview\n\nCurrently, Cehpoint uses browser localStorage for:\n- User authentication (fake user IDs)\n- Session persistence\n- Questionnaire data storage\n- AI recommendations storage\n\n**After Supabase integration, the app will have:**\n- Real user authentication with email/password\n- Persistent database storage for all user data\n- Multi-device access\n- Secure data storage with row-level security\n- Historical data retention\n\n---\n\n## Prerequisites\n\n1. **Create a Supabase Project:**\n   - Go to [supabase.com](https://supabase.com)\n   - Click \"New Project\"\n   - Note your project URL and API keys\n\n2. **Install Supabase Client:**\n   ```bash\n   npm install @supabase/supabase-js\n   ```\n\n3. **Add Environment Variables:**\n   ```env\n   NEXT_PUBLIC_SUPABASE_URL=your-project-url\n   NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key\n   SUPABASE_SERVICE_ROLE_KEY=your-service-role-key\n   ```\n\n---\n\n## Database Schema\n\nRun this SQL in the Supabase SQL Editor:\n\n```sql\n-- Enable UUID extension\nCREATE EXTENSION IF NOT EXISTS \"uuid-ossp\";\n\n-- Users table (extends Supabase auth.users)\nCREATE TABLE public.profiles (\n  id UUID REFERENCES auth.users(id) PRIMARY KEY,\n  email TEXT UNIQUE NOT NULL,\n  full_name TEXT,\n  company_name TEXT,\n  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),\n  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()\n);\n\n-- Questionnaire submissions table\nCREATE TABLE public.questionnaire_submissions (\n  id UUID DEFAULT uuid_generate_v4() PRIMARY KEY,\n  user_id UUID REFERENCES auth.users(id) NOT NULL,\n  \n  -- Section 1: Business Information\n  company_name TEXT NOT NULL,\n  industry TEXT NOT NULL,\n  custom_industry TEXT,\n  business_model TEXT NOT NULL,\n  year_established TEXT NOT NULL,\n  team_size TEXT NOT NULL,\n  operating_regions TEXT NOT NULL,\n  \n  -- Section 2: Current Operations & Processes\n  core_operations TEXT NOT NULL,\n  workflow_challenges TEXT NOT NULL,\n  manual_tasks TEXT NOT NULL,\n  current_tools TEXT NOT NULL,\n  \n  -- Section 3: Technology Status\n  has_website BOOLEAN DEFAULT false,\n  has_mobile_app BOOLEAN DEFAULT false,\n  has_crm BOOLEAN DEFAULT false,\n  has_erp BOOLEAN DEFAULT false,\n  has_cloud_setup BOOLEAN DEFAULT false,\n  has_admin_tools BOOLEAN DEFAULT false,\n  technology_stack TEXT,\n  cybersecurity_practices TEXT,\n  api_integrations TEXT,\n  \n  -- Section 4: Business Goals & Vision\n  short_term_goals TEXT NOT NULL,\n  long_term_goals TEXT NOT NULL,\n  upcoming_launches TEXT,\n  automation_areas TEXT NOT NULL,\n  \n  -- Section 5: Challenges & Blockers\n  revenue_challenges TEXT NOT NULL,\n  sales_marketing_challenges TEXT NOT NULL,\n  tech_bottlenecks TEXT NOT NULL,\n  customer_support_challenges TEXT,\n  compliance_concerns TEXT,\n  \n  -- Section 6: Industry-Specific Data\n  target_customers TEXT NOT NULL,\n  competitors TEXT,\n  data_format TEXT,\n  customer_acquisition_channels TEXT,\n  \n  -- Section 7: Project Requirements\n  solution_type TEXT,\n  budget_range TEXT,\n  desired_deadline TEXT,\n  special_requirements TEXT,\n  \n  -- Metadata\n  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),\n  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()\n);\n\n-- AI Recommendations table\nCREATE TABLE public.ai_recommendations (\n  id UUID DEFAULT uuid_generate_v4() PRIMARY KEY,\n  user_id UUID REFERENCES auth.users(id) NOT NULL,\n  submission_id UUID REFERENCES questionnaire_submissions(id) NOT NULL,\n  \n  -- AI Analysis Results\n  recommendations JSONB NOT NULL,\n  project_blueprint JSONB,\n  \n  -- Metadata\n  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()\n);\n\n-- Document uploads table (for future use)\nCREATE TABLE public.document_uploads (\n  id UUID DEFAULT uuid_generate_v4() PRIMARY KEY,\n  user_id UUID REFERENCES auth.users(id) NOT NULL,\n  file_name TEXT NOT NULL,\n  file_type TEXT NOT NULL,\n  file_size INTEGER,\n  storage_path TEXT NOT NULL,\n  extracted_content TEXT,\n  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()\n);\n\n-- Enable Row Level Security\nALTER TABLE public.profiles ENABLE ROW LEVEL SECURITY;\nALTER TABLE public.questionnaire_submissions ENABLE ROW LEVEL SECURITY;\nALTER TABLE public.ai_recommendations ENABLE ROW LEVEL SECURITY;\nALTER TABLE public.document_uploads ENABLE ROW LEVEL SECURITY;\n\n-- RLS Policies for profiles\nCREATE POLICY \"Users can view own profile\"\n  ON public.profiles FOR SELECT\n  USING (auth.uid() = id);\n\nCREATE POLICY \"Users can update own profile\"\n  ON public.profiles FOR UPDATE\n  USING (auth.uid() = id);\n\n-- RLS Policies for questionnaire_submissions\nCREATE POLICY \"Users can view own submissions\"\n  ON public.questionnaire_submissions FOR SELECT\n  USING (auth.uid() = user_id);\n\nCREATE POLICY \"Users can create own submissions\"\n  ON public.questionnaire_submissions FOR INSERT\n  WITH CHECK (auth.uid() = user_id);\n\nCREATE POLICY \"Users can update own submissions\"\n  ON public.questionnaire_submissions FOR UPDATE\n  USING (auth.uid() = user_id);\n\n-- RLS Policies for ai_recommendations\nCREATE POLICY \"Users can view own recommendations\"\n  ON public.ai_recommendations FOR SELECT\n  USING (auth.uid() = user_id);\n\nCREATE POLICY \"Users can create own recommendations\"\n  ON public.ai_recommendations FOR INSERT\n  WITH CHECK (auth.uid() = user_id);\n\n-- RLS Policies for document_uploads\nCREATE POLICY \"Users can view own uploads\"\n  ON public.document_uploads FOR SELECT\n  USING (auth.uid() = user_id);\n\nCREATE POLICY \"Users can create own uploads\"\n  ON public.document_uploads FOR INSERT\n  WITH CHECK (auth.uid() = user_id);\n\n-- Create function to update updated_at timestamp\nCREATE OR REPLACE FUNCTION update_updated_at_column()\nRETURNS TRIGGER AS $$\nBEGIN\n  NEW.updated_at = NOW();\n  RETURN NEW;\nEND;\n$$ LANGUAGE plpgsql;\n\n-- Create triggers for updated_at\nCREATE TRIGGER update_profiles_updated_at\n  BEFORE UPDATE ON public.profiles\n  FOR EACH ROW\n  EXECUTE FUNCTION update_updated_at_column();\n\nCREATE TRIGGER update_questionnaire_submissions_updated_at\n  BEFORE UPDATE ON public.questionnaire_submissions\n  FOR EACH ROW\n  EXECUTE FUNCTION update_updated_at_column();\n```\n\n---\n\n## Authentication Setup\n\n### 1. Configure Supabase Auth\n\nIn your Supabase dashboard:\n- Go to **Authentication ‚Üí Settings**\n- Enable **Email Auth**\n- Configure email templates (optional)\n- Set Site URL to your deployment URL\n\n### 2. Create Supabase Client\n\nCreate `lib/supabase.ts`:\n\n```typescript\nimport { createClient } from '@supabase/supabase-js';\n\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!;\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!;\n\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey);\n\n// For server-side operations\nexport const getServiceSupabase = () => {\n  return createClient(\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\n    process.env.SUPABASE_SERVICE_ROLE_KEY!\n  );\n};\n```\n\n---\n\n## Code Integration\n\n### Update `lib/storage.ts`\n\nReplace localStorage-based functions with Supabase calls:\n\n```typescript\nimport { supabase } from './supabase';\nimport type { User, Session, BusinessProfile } from '@/types';\n\n// Authentication\nexport async function signUp(email: string, password: string, fullName: string): Promise<User | null> {\n  const { data, error } = await supabase.auth.signUp({\n    email,\n    password,\n    options: {\n      data: {\n        full_name: fullName,\n      },\n    },\n  });\n\n  if (error || !data.user) {\n    console.error('Sign up error:', error);\n    return null;\n  }\n\n  // Create profile\n  await supabase.from('profiles').insert({\n    id: data.user.id,\n    email: data.user.email!,\n    full_name: fullName,\n  });\n\n  return {\n    id: data.user.id,\n    email: data.user.email!,\n    name: fullName,\n  };\n}\n\nexport async function signIn(email: string, password: string): Promise<User | null> {\n  const { data, error } = await supabase.auth.signInWithPassword({\n    email,\n    password,\n  });\n\n  if (error || !data.user) {\n    console.error('Sign in error:', error);\n    return null;\n  }\n\n  return {\n    id: data.user.id,\n    email: data.user.email!,\n    name: data.user.user_metadata.full_name || '',\n  };\n}\n\nexport async function signOut(): Promise<void> {\n  await supabase.auth.signOut();\n}\n\nexport function isAuthenticated(): boolean {\n  return supabase.auth.getSession() !== null;\n}\n\nexport async function getUser(): Promise<User | null> {\n  const { data: { user } } = await supabase.auth.getUser();\n  \n  if (!user) return null;\n  \n  return {\n    id: user.id,\n    email: user.email!,\n    name: user.user_metadata.full_name || '',\n  };\n}\n\n// Session Management\nexport async function saveSession(session: Session): Promise<void> {\n  const user = await getUser();\n  if (!user) return;\n\n  // Save questionnaire submission\n  const { data: submission, error: submissionError } = await supabase\n    .from('questionnaire_submissions')\n    .upsert({\n      user_id: user.id,\n      ...session.businessProfile,\n      updated_at: new Date().toISOString(),\n    })\n    .select()\n    .single();\n\n  if (submissionError) {\n    console.error('Error saving submission:', submissionError);\n    return;\n  }\n\n  // Save AI recommendations if they exist\n  if (session.recommendations) {\n    await supabase.from('ai_recommendations').insert({\n      user_id: user.id,\n      submission_id: submission.id,\n      recommendations: session.recommendations,\n      project_blueprint: session.projectBlueprint,\n    });\n  }\n}\n\nexport async function getSession(): Promise<Session | null> {\n  const user = await getUser();\n  if (!user) return null;\n\n  // Get latest submission\n  const { data: submission } = await supabase\n    .from('questionnaire_submissions')\n    .select('*')\n    .eq('user_id', user.id)\n    .order('created_at', { ascending: false })\n    .limit(1)\n    .single();\n\n  if (!submission) return null;\n\n  // Get latest recommendations\n  const { data: recommendations } = await supabase\n    .from('ai_recommendations')\n    .select('*')\n    .eq('submission_id', submission.id)\n    .order('created_at', { ascending: false })\n    .limit(1)\n    .single();\n\n  return {\n    userId: user.id,\n    businessProfile: submission,\n    recommendations: recommendations?.recommendations,\n    projectBlueprint: recommendations?.project_blueprint,\n    lastUpdated: submission.updated_at,\n  };\n}\n\nexport async function clearSession(): Promise<void> {\n  // Session data persists in database\n  // This just clears any local cache if needed\n}\n```\n\n### Update `pages/login.tsx`\n\nReplace fake authentication with real Supabase auth (see commented code in file).\n\n### Update `pages/questionnaire.tsx`\n\nReplace localStorage autosave with Supabase upsert (see commented code in file).\n\n### Update `pages/dashboard.tsx`\n\nFetch recommendations from Supabase instead of localStorage (see commented code in file).\n\n---\n\n## Environment Variables\n\nAdd these to your Vercel/Replit deployment:\n\n```env\n# Gemini AI (already configured)\nGEMINI_API_KEY=your_gemini_api_key\n\n# Supabase\nNEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co\nNEXT_PUBLIC_SUPABASE_ANON_KEY=your_anon_key\nSUPABASE_SERVICE_ROLE_KEY=your_service_role_key\n```\n\n**Security Notes:**\n- `NEXT_PUBLIC_*` variables are exposed to the browser\n- `SUPABASE_SERVICE_ROLE_KEY` should ONLY be used in API routes, never client-side\n- Enable Row Level Security (RLS) policies to protect user data\n\n---\n\n## Migration Steps\n\n### Step 1: Set Up Supabase\n1. Create Supabase project\n2. Run schema SQL\n3. Configure authentication\n4. Test database connection\n\n### Step 2: Install Dependencies\n```bash\nnpm install @supabase/supabase-js\n```\n\n### Step 3: Add Environment Variables\n- Add to Vercel dashboard or Replit Secrets\n- Verify variables are loaded correctly\n\n### Step 4: Uncomment Backend Code\n1. Uncomment `lib/supabase.ts` integration code\n2. Uncomment Supabase calls in `lib/storage.ts`\n3. Update authentication in `pages/login.tsx`\n4. Update autosave in `pages/questionnaire.tsx`\n5. Update data fetching in `pages/dashboard.tsx`\n\n### Step 5: Test Authentication Flow\n1. Test sign up\n2. Test sign in\n3. Test sign out\n4. Verify profile creation\n\n### Step 6: Test Data Persistence\n1. Fill out questionnaire\n2. Submit for AI analysis\n3. View recommendations on dashboard\n4. Log out and log back in\n5. Verify data persists\n\n### Step 7: Deploy to Production\n1. Run `npm run build` locally\n2. Fix any build errors\n3. Deploy to Vercel\n4. Test production environment\n\n---\n\n## Testing\n\n### Unit Tests\n```typescript\n// test/supabase.test.ts\nimport { signUp, signIn, getUser } from '@/lib/storage';\n\ndescribe('Supabase Authentication', () => {\n  it('should sign up a new user', async () => {\n    const user = await signUp('test@example.com', 'password123', 'Test User');\n    expect(user).not.toBeNull();\n    expect(user?.email).toBe('test@example.com');\n  });\n\n  it('should sign in existing user', async () => {\n    const user = await signIn('test@example.com', 'password123');\n    expect(user).not.toBeNull();\n  });\n});\n```\n\n### Manual Testing Checklist\n- [ ] User can sign up with email/password\n- [ ] User receives verification email (if enabled)\n- [ ] User can sign in\n- [ ] User can fill out questionnaire\n- [ ] Questionnaire data autosaves to Supabase\n- [ ] User can submit questionnaire for AI analysis\n- [ ] AI recommendations are saved to database\n- [ ] Dashboard displays recommendations from database\n- [ ] User can log out and log back in\n- [ ] Data persists across sessions\n- [ ] Data persists across devices\n- [ ] RLS policies prevent unauthorized access\n\n---\n\n## Troubleshooting\n\n### Issue: \"User is not authenticated\"\n**Solution:** Check that `auth.uid()` exists in Supabase session. Verify JWT token is valid.\n\n### Issue: \"Row Level Security policy violation\"\n**Solution:** Verify RLS policies are correctly set up. Check that user_id matches auth.uid().\n\n### Issue: \"Cannot read property 'id' of null\"\n**Solution:** Add null checks when accessing user data. Use optional chaining: `user?.id`.\n\n### Issue: Build fails with Supabase errors\n**Solution:** Ensure environment variables are set in build environment. Use `NEXT_PUBLIC_` prefix for client-side vars.\n\n---\n\n## Additional Resources\n\n- [Supabase Documentation](https://supabase.com/docs)\n- [Supabase Auth Helpers for Next.js](https://supabase.com/docs/guides/auth/auth-helpers/nextjs)\n- [Row Level Security Guide](https://supabase.com/docs/guides/auth/row-level-security)\n- [Supabase Realtime](https://supabase.com/docs/guides/realtime) - for live updates\n\n---\n\n## Support\n\nIf you encounter issues during integration:\n1. Check Supabase logs in dashboard\n2. Review browser console for errors\n3. Verify environment variables are correct\n4. Test database queries in Supabase SQL editor\n5. Check RLS policies are not blocking queries\n\n**Happy coding! üöÄ**\n","size_bytes":15083},"lib/env-validation.ts":{"content":"// Environment Variable Validation\n// This ensures all required environment variables are present\n\nexport function validateEnv() {\n  const requiredEnvVars = {\n    GEMINI_API_KEY: process.env.GEMINI_API_KEY,\n  };\n\n  const missing: string[] = [];\n\n  Object.entries(requiredEnvVars).forEach(([key, value]) => {\n    if (!value) {\n      missing.push(key);\n    }\n  });\n\n  if (missing.length > 0) {\n    throw new Error(\n      `Missing required environment variables: ${missing.join(', ')}\\n` +\n      `Please add these to your .env.local file or deployment environment.`\n    );\n  }\n\n  return true;\n}\n\n// Call this in API routes to ensure environment is configured\nexport function requireEnv<T>(value: T | undefined, name: string): T {\n  if (value === undefined || value === null || value === '') {\n    throw new Error(`Environment variable ${name} is required but not set`);\n  }\n  return value;\n}\n\n// Optional: Add Supabase validation when ready\nexport function validateSupabaseEnv() {\n  const supabaseVars = {\n    NEXT_PUBLIC_SUPABASE_URL: process.env.NEXT_PUBLIC_SUPABASE_URL,\n    NEXT_PUBLIC_SUPABASE_ANON_KEY: process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY,\n  };\n\n  const missing: string[] = [];\n\n  Object.entries(supabaseVars).forEach(([key, value]) => {\n    if (!value) {\n      missing.push(key);\n    }\n  });\n\n  if (missing.length > 0) {\n    console.warn(\n      `Supabase not configured. Missing: ${missing.join(', ')}\\n` +\n      `The app will use localStorage for MVP. See SUPABASE_INTEGRATION.md for setup.`\n    );\n    return false;\n  }\n\n  return true;\n}\n\n// Export configuration object\nexport const env = {\n  geminiApiKey: process.env.GEMINI_API_KEY,\n  supabaseUrl: process.env.NEXT_PUBLIC_SUPABASE_URL,\n  supabaseAnonKey: process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY,\n  supabaseServiceKey: process.env.SUPABASE_SERVICE_ROLE_KEY,\n};\n","size_bytes":1826},"lib/auth-helpers.ts":{"content":"/**\n * Authentication Helper Functions\n * \n * These helpers are for FUTURE Supabase integration.\n * Currently, the app uses localStorage for MVP.\n * \n * When Supabase is integrated, uncomment these functions\n * and use them in API routes to get authenticated users.\n */\n\n// TODO: Uncomment when Supabase is integrated\n// import { NextApiRequest } from 'next';\n// import { supabase } from './supabase';\n// import type { User } from '@/types';\n\n/**\n * Get authenticated user from API request\n * \n * Usage in API routes:\n * \n * ```typescript\n * import { getAuthenticatedUser } from '@/lib/auth-helpers';\n * \n * export default async function handler(req: NextApiRequest, res: NextApiResponse) {\n *   const user = await getAuthenticatedUser(req);\n *   \n *   if (!user) {\n *     return res.status(401).json({ error: 'Unauthorized' });\n *   }\n *   \n *   // Use user.id to query database\n *   const { data } = await supabase\n *     .from('questionnaire_submissions')\n *     .select('*')\n *     .eq('user_id', user.id);\n *   \n *   res.status(200).json(data);\n * }\n * ```\n */\n// export async function getAuthenticatedUser(req: NextApiRequest): Promise<User | null> {\n//   // Extract JWT token from Authorization header\n//   const authHeader = req.headers.authorization;\n//   \n//   if (!authHeader || !authHeader.startsWith('Bearer ')) {\n//     return null;\n//   }\n//   \n//   const token = authHeader.substring(7);\n//   \n//   // Verify token with Supabase\n//   const { data: { user }, error } = await supabase.auth.getUser(token);\n//   \n//   if (error || !user) {\n//     return null;\n//   }\n//   \n//   return {\n//     id: user.id,\n//     email: user.email!,\n//     name: user.user_metadata.full_name || '',\n//   };\n// }\n\n/**\n * Require authentication in API route\n * \n * Usage in API routes:\n * \n * ```typescript\n * import { requireAuth } from '@/lib/auth-helpers';\n * \n * export default async function handler(req: NextApiRequest, res: NextApiResponse) {\n *   const user = await requireAuth(req, res);\n *   \n *   // If user is null, response has already been sent\n *   if (!user) return;\n *   \n *   // Continue with authenticated logic\n *   // ...\n * }\n * ```\n */\n// export async function requireAuth(\n//   req: NextApiRequest,\n//   res: NextApiResponse\n// ): Promise<User | null> {\n//   const user = await getAuthenticatedUser(req);\n//   \n//   if (!user) {\n//     res.status(401).json({ error: 'Unauthorized' });\n//     return null;\n//   }\n//   \n//   return user;\n// }\n\n/**\n * MVP PLACEHOLDER: No authentication in current version\n * \n * This returns null to indicate no auth is available yet.\n * When Supabase is integrated, remove this and uncomment above functions.\n */\nexport async function getAuthenticatedUser(): Promise<null> {\n  return null;\n}\n\nexport async function requireAuth(): Promise<null> {\n  return null;\n}\n","size_bytes":2814},"components/MultiSelect.tsx":{"content":"import React, { useState } from 'react';\nimport { X, ChevronDown } from 'lucide-react';\n\ninterface MultiSelectProps {\n  label?: string;\n  value: string[];\n  onChange: (value: string[]) => void;\n  options: { value: string; label: string }[];\n  placeholder?: string;\n  required?: boolean;\n}\n\nexport default function MultiSelect({\n  label,\n  value,\n  onChange,\n  options,\n  placeholder = 'Select options',\n  required = false,\n}: MultiSelectProps) {\n  const [isOpen, setIsOpen] = useState(false);\n\n  const toggleOption = (optionValue: string) => {\n    if (value.includes(optionValue)) {\n      onChange(value.filter(v => v !== optionValue));\n    } else {\n      onChange([...value, optionValue]);\n    }\n  };\n\n  const removeItem = (optionValue: string) => {\n    onChange(value.filter(v => v !== optionValue));\n  };\n\n  const getLabel = (val: string) => {\n    return options.find(opt => opt.value === val)?.label || val;\n  };\n\n  return (\n    <div className=\"mb-4\">\n      {label && (\n        <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n          {label} {required && <span className=\"text-red-500\">*</span>}\n        </label>\n      )}\n      \n      <div className=\"relative\">\n        <div\n          className=\"w-full min-h-[48px] px-4 py-2 border-2 border-gray-300 rounded-lg focus-within:border-blue-500 focus-within:ring-2 focus-within:ring-blue-200 outline-none transition-all text-gray-900 bg-white cursor-pointer\"\n          onClick={() => setIsOpen(!isOpen)}\n        >\n          <div className=\"flex flex-wrap gap-2 items-center\">\n            {value.length === 0 ? (\n              <span className=\"text-gray-500\">{placeholder}</span>\n            ) : (\n              value.map((val) => (\n                <span\n                  key={val}\n                  className=\"inline-flex items-center gap-1 bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium\"\n                  onClick={(e) => {\n                    e.stopPropagation();\n                    removeItem(val);\n                  }}\n                >\n                  {getLabel(val)}\n                  <X className=\"w-3 h-3 cursor-pointer hover:text-blue-900\" />\n                </span>\n              ))\n            )}\n            <ChevronDown className={`w-5 h-5 text-gray-400 ml-auto transition-transform ${isOpen ? 'rotate-180' : ''}`} />\n          </div>\n        </div>\n\n        {isOpen && (\n          <div className=\"absolute z-50 w-full mt-2 bg-white border-2 border-gray-300 rounded-lg shadow-xl max-h-64 overflow-y-auto\">\n            {options.map((option) => (\n              <div\n                key={option.value}\n                className={`px-4 py-3 cursor-pointer hover:bg-blue-50 transition-colors flex items-center gap-3 ${\n                  value.includes(option.value) ? 'bg-blue-50' : ''\n                }`}\n                onClick={() => toggleOption(option.value)}\n              >\n                <input\n                  type=\"checkbox\"\n                  checked={value.includes(option.value)}\n                  onChange={() => {}} // Handled by parent onClick\n                  readOnly\n                  className=\"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500 cursor-pointer\"\n                />\n                <span className={`text-gray-800 ${value.includes(option.value) ? 'font-semibold' : ''}`}>\n                  {option.label}\n                </span>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n\n      {/* Hidden input for HTML5 form validation - required by browsers */}\n      {required && value.length === 0 && (\n        <input\n          type=\"text\"\n          value=\"\"\n          onChange={() => {}} // Required by React for controlled component\n          required\n          className=\"absolute opacity-0 pointer-events-none\"\n          tabIndex={-1}\n          aria-hidden=\"true\"\n        />\n      )}\n\n      {value.length > 0 && (\n        <p className=\"text-xs text-gray-500 mt-2\">\n          {value.length} region{value.length !== 1 ? 's' : ''} selected\n        </p>\n      )}\n    </div>\n  );\n}\n","size_bytes":4060},"lib/validation.ts":{"content":"import { z } from 'zod';\n\nexport const ServiceCategorySchema = z.enum([\n  'Process Automation & Optimization',\n  'Software Solutions',\n  'Cybersecurity & Risk Reduction',\n  'Technology Modernization',\n  'AI & Intelligent Automation',\n  'Industry-Specific Solutions',\n]);\n\nexport const ServiceRecommendationSchema = z.object({\n  id: z.string().optional(),\n  title: z.string().min(1, 'Title is required'),\n  category: ServiceCategorySchema,\n  description: z.string().min(1, 'Description is required'),\n  whyNeeded: z.string().min(1, 'Why needed is required'),\n  howItHelps: z.string().min(1, 'How it helps is required'),\n  businessImpact: z.string().min(1, 'Business impact is required'),\n  expectedROI: z.string().min(1, 'Expected ROI is required'),\n  priority: z.enum(['High', 'Medium', 'Low']),\n  estimatedTimeline: z.string().min(1, 'Timeline is required'),\n  estimatedCost: z.string().min(1, 'Cost is required'),\n}).transform(data => ({\n  ...data,\n  id: data.id || `rec-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`,\n}));\n\nexport const ProjectBlueprintSchema = z.object({\n  deliverables: z.array(z.string()).min(1, 'At least one deliverable required'),\n  timeline: z.string().min(1, 'Timeline is required'),\n  costBracket: z.string().min(1, 'Cost bracket is required'),\n  phases: z.array(\n    z.object({\n      name: z.string().min(1, 'Phase name is required'),\n      duration: z.string().min(1, 'Duration is required'),\n      description: z.string().min(1, 'Description is required'),\n    })\n  ).min(1, 'At least one phase required'),\n});\n\nexport const GeminiAnalysisResponseSchema = z.object({\n  recommendations: z.array(ServiceRecommendationSchema)\n    .min(1, 'At least one recommendation required')\n    .max(15, 'Too many recommendations'),\n  projectBlueprint: ProjectBlueprintSchema,\n});\n\nexport const BusinessProfileSchema = z.object({\n  businessName: z.string().min(1, 'Business name is required'),\n  industry: z.string().min(1, 'Industry is required'),\n  businessModel: z.string().min(1, 'Business model is required'),\n  yearEstablished: z.string().min(1, 'Year established is required'),\n  teamSize: z.string().min(1, 'Team size is required'),\n  operatingRegions: z.array(z.string()).min(1, 'At least one operating region required'),\n  coreOperations: z.string(),\n  workflowChallenges: z.string(),\n  manualTasks: z.string(),\n  currentTools: z.string(),\n  hasWebsite: z.boolean(),\n  hasMobileApp: z.boolean(),\n  hasCRM: z.boolean(),\n  hasERP: z.boolean(),\n  hasCloudSetup: z.boolean(),\n  hasAdminTools: z.boolean(),\n  technologyStack: z.string(),\n  cybersecurityPractices: z.string(),\n  apiIntegrations: z.string(),\n  shortTermGoals: z.string(),\n  longTermGoals: z.string(),\n  upcomingLaunches: z.string(),\n  automationAreas: z.string(),\n  revenueChallenges: z.string(),\n  salesMarketingChallenges: z.string(),\n  techBottlenecks: z.string(),\n  customerSupportChallenges: z.string(),\n  complianceConcerns: z.string(),\n  targetCustomers: z.string(),\n  competitors: z.string(),\n  dataFormat: z.string(),\n  industrySpecificProcesses: z.string(),\n  budgetPreference: z.string(),\n  preferredSolutionType: z.string(),\n  deadline: z.string(),\n  hasDevTeam: z.boolean(),\n  resourceConstraints: z.string(),\n});\n\nfunction coerceBoolean(value: any): boolean {\n  if (typeof value === 'boolean') return value;\n  if (typeof value === 'string') {\n    const lower = value.toLowerCase().trim();\n    return lower === 'true' || lower === 'yes' || lower === '1';\n  }\n  if (typeof value === 'number') return value !== 0;\n  return Boolean(value);\n}\n\nexport function normalizeBusinessProfile(data: any): any {\n  const normalized = { ...data };\n  \n  if (normalized.operatingRegions) {\n    if (typeof normalized.operatingRegions === 'string') {\n      normalized.operatingRegions = normalized.operatingRegions\n        .split(',')\n        .map((region: string) => region.trim())\n        .filter((region: string) => region.length > 0);\n    } else if (!Array.isArray(normalized.operatingRegions)) {\n      normalized.operatingRegions = [String(normalized.operatingRegions)];\n    }\n  } else {\n    normalized.operatingRegions = [];\n  }\n  \n  const booleanFields = [\n    'hasWebsite',\n    'hasMobileApp',\n    'hasCRM',\n    'hasERP',\n    'hasCloudSetup',\n    'hasAdminTools',\n    'hasDevTeam',\n  ];\n  \n  booleanFields.forEach(field => {\n    if (field in normalized) {\n      normalized[field] = coerceBoolean(normalized[field]);\n    }\n  });\n  \n  return normalized;\n}\n","size_bytes":4453},"pages/api/get-live-suggestions.ts":{"content":"import type { NextApiRequest, NextApiResponse } from 'next';\nimport { GoogleGenAI } from '@google/genai';\n\nconst ai = new GoogleGenAI({ apiKey: process.env.GEMINI_API_KEY || \"\" });\n\nexport default async function handler(\n  req: NextApiRequest,\n  res: NextApiResponse\n) {\n  if (req.method !== 'POST') {\n    return res.status(405).json({ error: 'Method not allowed' });\n  }\n\n  try {\n    const { formData, currentSection } = req.body;\n\n    if (!formData || typeof currentSection !== 'number') {\n      return res.status(400).json({ error: 'Invalid request data' });\n    }\n\n    const businessInfo = Object.entries(formData)\n      .filter(([_, value]) => value && value !== '')\n      .map(([key, value]) => {\n        const formattedKey = key.replace(/([A-Z])/g, ' $1').toLowerCase();\n        return `${formattedKey}: ${Array.isArray(value) ? value.join(', ') : value}`;\n      })\n      .join('\\n');\n\n    if (!businessInfo.trim()) {\n      return res.status(200).json({ suggestions: [] });\n    }\n\n    const prompt = `You are an expert IT and cybersecurity consultant analyzing a client's business information as they fill out a questionnaire.\n\nCURRENT BUSINESS INFORMATION PROVIDED:\n${businessInfo}\n\nTASK:\nBased on the information provided so far, generate 2-3 SPECIFIC, ACTIONABLE service suggestions that would be valuable for this business. Keep each suggestion concise (1-2 sentences max).\n\nIMPORTANT:\n- Be specific to their industry, business model, and stated challenges\n- Focus on high-impact, realistic solutions\n- Make suggestions engaging and relevant to what they've shared\n- Include a brief \"why\" this matters for their business\n- If not enough information is provided yet, give general relevant suggestions based on what you know\n\nReturn ONLY a valid JSON object in this exact format:\n{\n  \"suggestions\": [\n    {\n      \"title\": \"Service Name\",\n      \"description\": \"Specific recommendation with why it matters\",\n      \"icon\": \"Cloud\" | \"Shield\" | \"Zap\" | \"Brain\" | \"Target\" | \"Lock\" | \"Database\" | \"Workflow\"\n    }\n  ]\n}`;\n\n    const response = await ai.models.generateContent({\n      model: 'gemini-2.0-flash-exp',\n      contents: prompt,\n      config: {\n        temperature: 0.7,\n        maxOutputTokens: 500,\n        responseMimeType: 'application/json',\n      },\n    });\n\n    if (!response.text) {\n      return res.status(200).json({ suggestions: [] });\n    }\n    \n    const parsed = JSON.parse(response.text);\n\n    return res.status(200).json({\n      suggestions: parsed.suggestions || [],\n    });\n  } catch (error) {\n    console.error('Live suggestions error:', error);\n    return res.status(200).json({ suggestions: [] });\n  }\n}\n","size_bytes":2639},"components/ErrorBoundary.tsx":{"content":"import React, { Component, ErrorInfo, ReactNode } from 'react';\nimport { AlertTriangle, RefreshCw } from 'lucide-react';\n\ninterface Props {\n  children: ReactNode;\n  fallback?: ReactNode;\n}\n\ninterface State {\n  hasError: boolean;\n  error: Error | null;\n}\n\n/**\n * Error Boundary Component\n * Catches JavaScript errors anywhere in the child component tree and displays a fallback UI\n * \n * Usage:\n * <ErrorBoundary>\n *   <YourComponent />\n * </ErrorBoundary>\n */\nclass ErrorBoundary extends Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = { hasError: false, error: null };\n  }\n\n  static getDerivedStateFromError(error: Error): State {\n    return { hasError: true, error };\n  }\n\n  componentDidCatch(error: Error, errorInfo: ErrorInfo) {\n    // Log error to console in development\n    console.error('ErrorBoundary caught an error:', error, errorInfo);\n    \n    // In production, you would send this to an error reporting service\n    // Example: Sentry.captureException(error);\n  }\n\n  render() {\n    if (this.state.hasError) {\n      // Custom fallback UI\n      if (this.props.fallback) {\n        return this.props.fallback;\n      }\n\n      // Default error UI\n      return (\n        <div className=\"min-h-screen bg-gradient-to-br from-red-50 to-orange-50 flex items-center justify-center p-4\">\n          <div className=\"max-w-md w-full bg-white rounded-2xl shadow-xl p-8 text-center\">\n            <div className=\"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n              <AlertTriangle className=\"w-8 h-8 text-red-600\" />\n            </div>\n            <h1 className=\"text-2xl font-bold text-gray-900 mb-2\">\n              Oops! Something went wrong\n            </h1>\n            <p className=\"text-gray-600 mb-6\">\n              We encountered an unexpected error. Don't worry, your data is safe.\n            </p>\n            {process.env.NODE_ENV === 'development' && this.state.error && (\n              <div className=\"bg-gray-100 rounded-lg p-4 mb-6 text-left\">\n                <p className=\"text-xs font-mono text-gray-700 break-all\">\n                  {this.state.error.toString()}\n                </p>\n              </div>\n            )}\n            <button\n              onClick={() => window.location.reload()}\n              className=\"inline-flex items-center gap-2 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-semibold py-3 px-6 rounded-lg transition-all shadow-lg hover:shadow-xl\"\n            >\n              <RefreshCw className=\"w-5 h-5\" />\n              Reload Page\n            </button>\n            <p className=\"text-xs text-gray-500 mt-4\">\n              If this problem persists, please contact support\n            </p>\n          </div>\n        </div>\n      );\n    }\n\n    return this.props.children;\n  }\n}\n\nexport default ErrorBoundary;\n","size_bytes":2883},"lib/proposalGenerator.ts":{"content":"import { ServiceRecommendation, ProjectBlueprint } from '@/types';\n\ninterface ProposalData {\n  companyName: string;\n  recommendations: ServiceRecommendation[];\n  blueprint: ProjectBlueprint | null;\n  generatedDate: string;\n  salesNotes?: string;\n}\n\nexport function generateProposalHTML(data: ProposalData): string {\n  const { companyName, recommendations, blueprint, generatedDate, salesNotes } = data;\n  \n  const totalEstimate = recommendations.reduce((sum, rec) => {\n    const price = typeof rec.estimatedCost === 'string' \n      ? parseInt(rec.estimatedCost.replace(/[^0-9]/g, '').split('(')[0] || '0') \n      : rec.estimatedCost;\n    return sum + (isNaN(price) ? 0 : price);\n  }, 0);\n\n  return `<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <title>Technology Solutions Proposal - ${companyName}</title>\n  <style>\n    * {\n      margin: 0;\n      padding: 0;\n      box-sizing: border-box;\n    }\n    body {\n      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n      line-height: 1.6;\n      color: #1f2937;\n      background: #ffffff;\n      padding: 40px 20px;\n    }\n    .container {\n      max-width: 900px;\n      margin: 0 auto;\n      background: white;\n    }\n    .header {\n      background: linear-gradient(135deg, #2563eb 0%, #4f46e5 100%);\n      color: white;\n      padding: 40px;\n      text-align: center;\n      border-radius: 12px 12px 0 0;\n    }\n    .header h1 {\n      font-size: 32px;\n      margin-bottom: 10px;\n      font-weight: 700;\n    }\n    .header p {\n      font-size: 16px;\n      opacity: 0.95;\n    }\n    .contact-banner {\n      background: #1e40af;\n      color: white;\n      padding: 20px 40px;\n      display: flex;\n      justify-content: space-between;\n      flex-wrap: wrap;\n      gap: 15px;\n    }\n    .contact-item {\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      font-size: 14px;\n    }\n    .contact-item strong {\n      font-weight: 600;\n    }\n    .content {\n      padding: 40px;\n    }\n    .section {\n      margin-bottom: 40px;\n    }\n    .section-title {\n      font-size: 24px;\n      font-weight: 700;\n      color: #1f2937;\n      margin-bottom: 20px;\n      padding-bottom: 10px;\n      border-bottom: 3px solid #2563eb;\n    }\n    .intro {\n      background: #f0f9ff;\n      padding: 25px;\n      border-radius: 8px;\n      border-left: 4px solid #2563eb;\n      margin-bottom: 30px;\n    }\n    .intro h3 {\n      font-size: 18px;\n      margin-bottom: 10px;\n      color: #1e40af;\n    }\n    .recommendation {\n      background: #f9fafb;\n      border: 2px solid #e5e7eb;\n      border-radius: 10px;\n      padding: 25px;\n      margin-bottom: 20px;\n      page-break-inside: avoid;\n    }\n    .recommendation h3 {\n      font-size: 20px;\n      color: #1f2937;\n      margin-bottom: 10px;\n      font-weight: 600;\n    }\n    .rec-header {\n      display: flex;\n      justify-content: space-between;\n      align-items: flex-start;\n      margin-bottom: 15px;\n      flex-wrap: wrap;\n      gap: 10px;\n    }\n    .rec-meta {\n      display: flex;\n      gap: 12px;\n      flex-wrap: wrap;\n    }\n    .badge {\n      padding: 6px 12px;\n      border-radius: 6px;\n      font-size: 12px;\n      font-weight: 600;\n      text-transform: uppercase;\n    }\n    .badge-high { background: #fee2e2; color: #991b1b; }\n    .badge-medium { background: #fef3c7; color: #92400e; }\n    .badge-low { background: #d1fae5; color: #065f46; }\n    .category {\n      background: #dbeafe;\n      color: #1e40af;\n      padding: 6px 12px;\n      border-radius: 6px;\n      font-size: 12px;\n      font-weight: 600;\n    }\n    .price {\n      font-size: 22px;\n      font-weight: 700;\n      color: #059669;\n    }\n    .rec-description {\n      margin-bottom: 15px;\n      color: #4b5563;\n      line-height: 1.7;\n    }\n    .rec-details {\n      display: grid;\n      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n      gap: 15px;\n      margin-top: 15px;\n      padding-top: 15px;\n      border-top: 1px solid #e5e7eb;\n    }\n    .detail-item strong {\n      display: block;\n      font-size: 12px;\n      color: #6b7280;\n      text-transform: uppercase;\n      margin-bottom: 4px;\n      letter-spacing: 0.5px;\n    }\n    .detail-item span {\n      color: #1f2937;\n      font-weight: 600;\n    }\n    .blueprint {\n      background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);\n      border: 2px solid #3b82f6;\n      border-radius: 10px;\n      padding: 30px;\n      margin-top: 30px;\n    }\n    .blueprint h3 {\n      font-size: 22px;\n      color: #1e40af;\n      margin-bottom: 20px;\n    }\n    .phase {\n      background: white;\n      padding: 20px;\n      margin-bottom: 15px;\n      border-radius: 8px;\n      border-left: 4px solid #3b82f6;\n    }\n    .phase h4 {\n      font-size: 16px;\n      color: #1f2937;\n      margin-bottom: 8px;\n    }\n    .summary {\n      background: #f0fdf4;\n      border: 2px solid #22c55e;\n      border-radius: 10px;\n      padding: 30px;\n      margin-top: 40px;\n    }\n    .summary h3 {\n      font-size: 22px;\n      color: #166534;\n      margin-bottom: 20px;\n    }\n    .summary-grid {\n      display: grid;\n      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n      gap: 20px;\n      margin-bottom: 20px;\n    }\n    .summary-item {\n      text-align: center;\n    }\n    .summary-item .label {\n      font-size: 12px;\n      color: #166534;\n      text-transform: uppercase;\n      font-weight: 600;\n      margin-bottom: 5px;\n    }\n    .summary-item .value {\n      font-size: 28px;\n      font-weight: 700;\n      color: #15803d;\n    }\n    .cta-section {\n      background: linear-gradient(135deg, #1e40af 0%, #3730a3 100%);\n      color: white;\n      padding: 40px;\n      border-radius: 12px;\n      text-align: center;\n      margin-top: 40px;\n    }\n    .cta-section h3 {\n      font-size: 26px;\n      margin-bottom: 15px;\n    }\n    .cta-section p {\n      font-size: 16px;\n      margin-bottom: 25px;\n      opacity: 0.95;\n    }\n    .cta-buttons {\n      display: flex;\n      justify-content: center;\n      gap: 15px;\n      flex-wrap: wrap;\n    }\n    .cta-button {\n      background: white;\n      color: #1e40af;\n      padding: 15px 30px;\n      border-radius: 8px;\n      font-weight: 600;\n      font-size: 16px;\n      text-decoration: none;\n      display: inline-block;\n    }\n    .footer {\n      background: #f9fafb;\n      padding: 30px 40px;\n      text-align: center;\n      border-radius: 0 0 12px 12px;\n      margin-top: 40px;\n      border-top: 2px solid #e5e7eb;\n    }\n    .footer p {\n      font-size: 14px;\n      color: #6b7280;\n      margin-bottom: 10px;\n    }\n    .footer strong {\n      color: #1f2937;\n    }\n    @media print {\n      body { padding: 0; }\n      .no-print { display: none; }\n    }\n  </style>\n</head>\n<body>\n  <div class=\"container\">\n    <div class=\"header\">\n      <h1>üéØ Technology Solutions Proposal</h1>\n      <p>Prepared for <strong>${companyName}</strong></p>\n      <p style=\"margin-top: 10px; font-size: 14px;\">Generated on ${new Date(generatedDate).toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' })}</p>\n    </div>\n\n    <div class=\"contact-banner\">\n      <div class=\"contact-item\">\n        <strong>üìû Phone:</strong> +91 909 115 6095\n      </div>\n      <div class=\"contact-item\">\n        <strong>üìß Email:</strong> sales@cehpoint.co.in\n      </div>\n      <div class=\"contact-item\">\n        <strong>üåê Website:</strong> cehpoint.co.in\n      </div>\n    </div>\n\n    <div class=\"content\">\n      <div class=\"intro\">\n        <h3>${salesNotes ? 'Personal Message from Your Consultant' : 'About This Proposal'}</h3>\n        <p>\n          ${salesNotes || 'This comprehensive technology solutions proposal has been generated using AI-powered analysis of your business operations and requirements. Each recommendation is tailored to your specific needs and designed to deliver measurable ROI.'}\n        </p>\n      </div>\n\n      <div class=\"section\">\n        <h2 class=\"section-title\">Recommended Solutions (${recommendations.length})</h2>\n        \n        ${recommendations.map((rec, idx) => `\n          <div class=\"recommendation\">\n            <div class=\"rec-header\">\n              <div>\n                <h3>${idx + 1}. ${rec.title}</h3>\n                <div class=\"rec-meta\">\n                  <span class=\"category\">${rec.category}</span>\n                  <span class=\"badge badge-${rec.priority.toLowerCase()}\">${rec.priority} Priority</span>\n                </div>\n              </div>\n              <div class=\"price\">${rec.estimatedCost}</div>\n            </div>\n            \n            <p class=\"rec-description\">${rec.description}</p>\n            \n            <div class=\"rec-details\">\n              <div class=\"detail-item\">\n                <strong>Business Impact</strong>\n                <span>${rec.businessImpact}</span>\n              </div>\n              <div class=\"detail-item\">\n                <strong>Expected ROI</strong>\n                <span>${rec.expectedROI}</span>\n              </div>\n              <div class=\"detail-item\">\n                <strong>Timeline</strong>\n                <span>${rec.estimatedTimeline}</span>\n              </div>\n              <div class=\"detail-item\">\n                <strong>Why Needed</strong>\n                <span>${rec.whyNeeded}</span>\n              </div>\n              <div class=\"detail-item\" style=\"grid-column: 1 / -1;\">\n                <strong>How It Helps</strong>\n                <span>${rec.howItHelps}</span>\n              </div>\n            </div>\n          </div>\n        `).join('')}\n      </div>\n\n      ${blueprint ? `\n        <div class=\"section\">\n          <h2 class=\"section-title\">Implementation Blueprint</h2>\n          <div class=\"blueprint\">\n            <h3>üìã Project Implementation Plan</h3>\n            <p style=\"margin-bottom: 20px; color: #1e40af;\">Phased approach to delivering your technology solutions</p>\n            \n            ${blueprint.phases.map((phase, idx) => `\n              <div class=\"phase\">\n                <h4>Phase ${idx + 1}: ${phase.name}</h4>\n                <p style=\"color: #6b7280; margin-bottom: 10px;\">${phase.description}</p>\n                <div style=\"display: flex; justify-content: space-between; margin-top: 10px; font-size: 14px;\">\n                  <span><strong>Duration:</strong> ${phase.duration}</span>\n                </div>\n              </div>\n            `).join('')}\n            \n            ${blueprint.deliverables && blueprint.deliverables.length > 0 ? `\n              <div style=\"background: white; padding: 20px; border-radius: 8px; margin-top: 20px;\">\n                <h4 style=\"font-size: 16px; margin-bottom: 10px; color: #1f2937;\">Project Deliverables</h4>\n                <div style=\"font-size: 14px; color: #4b5563; line-height: 1.8;\">\n                  ${blueprint.deliverables.map(d => `‚Ä¢ ${d}`).join('<br>')}\n                </div>\n              </div>\n            ` : ''}\n            \n            <div style=\"background: white; padding: 20px; border-radius: 8px; margin-top: 20px; text-align: center;\">\n              <div style=\"font-size: 14px; color: #6b7280; margin-bottom: 5px;\">Total Project Cost</div>\n              <div style=\"font-size: 32px; font-weight: 700; color: #15803d;\">${blueprint.costBracket}</div>\n              <div style=\"font-size: 14px; color: #6b7280; margin-top: 5px;\">Timeline: ${blueprint.timeline}</div>\n            </div>\n          </div>\n        </div>\n      ` : ''}\n\n      <div class=\"summary\">\n        <h3>üìä Proposal Summary</h3>\n        <div class=\"summary-grid\">\n          <div class=\"summary-item\">\n            <div class=\"label\">Total Solutions</div>\n            <div class=\"value\">${recommendations.length}</div>\n          </div>\n          <div class=\"summary-item\">\n            <div class=\"label\">High Priority</div>\n            <div class=\"value\">${recommendations.filter(r => r.priority === 'High').length}</div>\n          </div>\n          <div class=\"summary-item\">\n            <div class=\"label\">Estimated Investment</div>\n            <div class=\"value\" style=\"font-size: 22px;\">‚Çπ${totalEstimate.toLocaleString('en-IN')}</div>\n          </div>\n          <div class=\"summary-item\">\n            <div class=\"label\">Avg. Timeline</div>\n            <div class=\"value\" style=\"font-size: 22px;\">${blueprint ? blueprint.timeline : '8-12 weeks'}</div>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"cta-section\">\n        <h3>Ready to Transform Your Business?</h3>\n        <p>Let's discuss how these solutions can be tailored to your specific needs and budget.</p>\n        <div class=\"cta-buttons\">\n          <a href=\"tel:+919091156095\" class=\"cta-button\">üìû Call: +91 909 115 6095</a>\n          <a href=\"mailto:sales@cehpoint.co.in?subject=Proposal Discussion - ${companyName}\" class=\"cta-button\">üìß Email Us</a>\n          <a href=\"https://wa.me/919091156095?text=Hi, I'd like to discuss the proposal for ${encodeURIComponent(companyName)}\" class=\"cta-button\">üí¨ WhatsApp Chat</a>\n        </div>\n        <p style=\"margin-top: 20px; font-size: 14px;\">Visit us at <strong>cehpoint.co.in</strong></p>\n      </div>\n    </div>\n\n    <div class=\"footer\">\n      <p><strong>Cehpoint Technology Consulting</strong></p>\n      <p>Enterprise Technology Solutions for Growing Businesses Worldwide</p>\n      <p style=\"margin-top: 15px;\">\n        üìû +91 909 115 6095 | üìß sales@cehpoint.co.in | üåê cehpoint.co.in\n      </p>\n      <p style=\"margin-top: 10px; font-size: 12px; color: #9ca3af;\">\n        ¬© ${new Date().getFullYear()} Cehpoint Technology Consulting. All rights reserved.\n      </p>\n    </div>\n  </div>\n</body>\n</html>`;\n}\n\nexport function downloadProposal(data: ProposalData): void {\n  const html = generateProposalHTML(data);\n  const blob = new Blob([html], { type: 'text/html' });\n  const url = URL.createObjectURL(blob);\n  const link = document.createElement('a');\n  link.href = url;\n  link.download = `Cehpoint_Proposal_${data.companyName.replace(/[^a-z0-9]/gi, '_')}_${new Date().toISOString().split('T')[0]}.html`;\n  document.body.appendChild(link);\n  link.click();\n  document.body.removeChild(link);\n  URL.revokeObjectURL(url);\n}\n\nexport function submitToCehpoint(companyName: string, recommendations: ServiceRecommendation[], salesNotes?: string): string {\n  const highPriority = recommendations.filter(r => r.priority === 'High');\n  const topRecommendations = highPriority.slice(0, 3).map(r => r.title).join(', ');\n  \n  let message = `Hi! Sharing the technology solutions proposal for ${companyName}.\n\nSummary:\n‚Ä¢ Total Solutions: ${recommendations.length}\n‚Ä¢ High Priority: ${highPriority.length}\n‚Ä¢ Top Recommendations: ${topRecommendations || recommendations.slice(0, 2).map(r => r.title).join(', ')}`;\n\n  if (salesNotes) {\n    message += `\\n\\nPersonal Note:\\n${salesNotes}`;\n  }\n  \n  message += `\\n\\nI'd like to schedule a consultation to discuss implementation, timelines, and pricing.\n\nLooking forward to connecting!`;\n\n  return `https://wa.me/919091156095?text=${encodeURIComponent(message)}`;\n}\n","size_bytes":15002},"components/Loading.tsx":{"content":"import React from 'react';\nimport { Loader2 } from 'lucide-react';\n\ninterface LoadingProps {\n  fullScreen?: boolean;\n  message?: string;\n  size?: 'sm' | 'md' | 'lg';\n}\n\n/**\n * Reusable loading component with optional full-screen overlay\n * @param fullScreen - If true, shows as a full-screen overlay\n * @param message - Optional loading message to display\n * @param size - Size of the spinner (sm, md, lg)\n */\nexport default function Loading({ \n  fullScreen = false, \n  message = 'Loading...', \n  size = 'md' \n}: LoadingProps) {\n  const sizeClasses = {\n    sm: 'w-5 h-5',\n    md: 'w-8 h-8',\n    lg: 'w-12 h-12',\n  };\n\n  const content = (\n    <div className=\"flex flex-col items-center justify-center gap-3\">\n      <Loader2 className={`${sizeClasses[size]} text-blue-600 animate-spin`} />\n      {message && (\n        <p className=\"text-gray-600 font-medium text-center\">{message}</p>\n      )}\n    </div>\n  );\n\n  if (fullScreen) {\n    return (\n      <div className=\"fixed inset-0 bg-white bg-opacity-90 backdrop-blur-sm flex items-center justify-center z-50\">\n        {content}\n      </div>\n    );\n  }\n\n  return <div className=\"flex items-center justify-center p-8\">{content}</div>;\n}\n","size_bytes":1183}},"version":2}